(this.webpackJsonpsocial_network_ts=this.webpackJsonpsocial_network_ts||[]).push([[0],{112:function(e,t,n){e.exports={item:"Post_item__245wk"}},119:function(e,t,n){},120:function(e,t,n){},126:function(e,t,n){},18:function(e,t,n){e.exports={navbar:"Navbar_navbar__1rTXG",item:"Navbar_item__1e2tb",activeLink:"Navbar_activeLink__2YwHc"}},245:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(52),i=n.n(a),c=(n(119),n(3)),o=n(4),u=n(9),l=n(10),d=(n(120),n(14)),j=n(18),g=n.n(j),h=n(1),b=function(){return Object(h.jsxs)("nav",{className:g.a.navbar,children:[Object(h.jsx)("div",{className:g.a.item,children:Object(h.jsx)(d.c,{to:"/profile/20082",activeClassName:g.a.activeLink,children:"Profile"})}),Object(h.jsx)("div",{className:g.a.item,children:Object(h.jsx)(d.c,{to:"/dialogs",activeClassName:g.a.activeLink,children:"Messages"})}),Object(h.jsx)("div",{className:g.a.item,children:Object(h.jsx)(d.c,{to:"/friends",activeClassName:g.a.activeLink,children:"Friends"})}),Object(h.jsx)("div",{className:g.a.item,children:Object(h.jsx)(d.c,{to:"/News",activeClassName:g.a.activeLink,children:"News"})}),Object(h.jsx)("div",{className:g.a.item,children:Object(h.jsx)(d.c,{to:"/Music",activeClassName:g.a.activeLink,children:"Music"})}),Object(h.jsx)("div",{className:g.a.item,children:Object(h.jsx)(d.c,{to:"/Settings",activeClassName:g.a.activeLink,children:"Settings"})})]})},p=(n(126),function(){return Object(h.jsxs)("div",{className:"chat",children:[Object(h.jsx)("div",{children:"Chat online"}),Object(h.jsx)("div",{children:"Friend list"})]})}),f=n(8),O=function(){return Object(h.jsx)("div",{children:"News"})},m=function(){return Object(h.jsx)("div",{children:"Music"})},v=function(){return Object(h.jsx)("div",{children:"Settings"})},x=n(11),D=n(2),A={dialogs:[{id:1,name:"Denis"},{id:2,name:"Ylia"},{id:3,name:"Dymich"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are u?"},{id:3,message:"Where are u?"}]},C=n(27),P=n.n(C),S=s.a.memo((function(e){return Object(h.jsx)("div",{className:P.a.dialog,children:Object(h.jsx)(d.c,{to:"/dialogs/"+e.id,activeClassName:P.a.activeLink,children:e.name})})})),k=s.a.memo((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:P.a.message,children:e.message})})})),E=n(38),w=n(25),F=w.a().shape({message:w.b().required("\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c").max(50,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e!")}),T=function(e){return Object(h.jsx)(E.a,{initialValues:{message:""},validateOnBlur:!0,validationSchema:F,onSubmit:function(t,n){var r=n.setSubmitting,s=n.resetForm;r(!0),setTimeout((function(){e.sendMessage(t.message),s(),r(!1)}),500)},children:function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("textarea",Object(D.a)({id:"message",placeholder:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u043e\u0432\u043e\u0441\u0442\u044c\u044e"},e.getFieldProps("message"))),e.errors.message&&e.touched.message?Object(h.jsx)("div",{style:{color:"red"},children:e.errors.message}):null]}),Object(h.jsx)("button",{type:"submit",disabled:e.isSubmitting||!!e.errors.message,children:"Send"})]})}})},N=s.a.memo((function(e){return Object(h.jsxs)("div",{className:P.a.dialogs,children:[Object(h.jsx)("div",{className:P.a.dialogsItems,children:e.messagesPage.dialogs.map((function(e){return Object(h.jsx)(S,{name:e.name,id:e.id})}))}),Object(h.jsxs)("div",{className:P.a.messages,children:[Object(h.jsx)("div",{children:e.messagesPage.messages.map((function(e){return Object(h.jsx)(k,{message:e.message,id:e.id})}))}),Object(h.jsx)(T,{sendMessage:e.sendMessageClick})]})]})})),B=n(13),L=n(114),y=["isAuth"],U=function(e){return{isAuth:e.auth.isAuth}};function G(e){return Object(B.b)(U)((function(t){var n=t.isAuth,r=Object(L.a)(t,y);return n?Object(h.jsx)(e,Object(D.a)({},r)):Object(h.jsx)(f.a,{to:"/login"})}))}var I=n(16),Q=Object(I.c)(Object(B.b)((function(e){return{messagesPage:e.messagesPage}}),{sendMessageClick:function(e){return{type:"messagePage/SEND_MESSAGE",message:e}}}),G)(N),R=n(6),q=n.n(R),M=n(15),H=n(226).default.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"1f886700-a829-4416-bf51-a1d8fa58d064"}}),_=function(e,t){return H.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},z={followHandler:function(e){return H.post("follow/".concat(e)).then((function(e){return e.data.resultCode}))},unFollowHander:function(e){return H.delete("follow/".concat(e)).then((function(e){return e.data.resultCode}))}},X=function(e){return H.get("profile/".concat(e)).then((function(e){return e.data}))},Y=function(e){return H.get("profile/status/".concat(e))},J=function(e){return H.put("profile/status/",{status:e}).then((function(e){return e.data}))},V=function(){return H.get("auth/me")},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return H.post("auth/login",{email:e,password:t,rememberMe:n})},W=function(){return H.delete("auth/login")},K={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},$=function(e){return{type:"users/FOLLOW",userID:e}},ee=function(e){return{type:"users/UNFOLLOW",userID:e}},te=function(e){return{type:"users/SET_CURRENT_PAGE",currentPage:e}},ne=function(e){return{type:"users/TOGGLE_IS_FETCHING",isFetching:e}},re=function(e,t){return{type:"users/FOLLOWING_IN_PROGRESS",followingInProgress:e,userID:t}},se=function(){var e=Object(M.a)(q.a.mark((function e(t,n,r,s){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(re(!0,n)),e.next=3,r(n);case 3:0===e.sent&&t(s(n)),t(re(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),ae=n(56),ie=n(24),ce=n(60),oe=n.n(ce),ue=n(111),le=n.n(ue),de=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);var a=Math.ceil(t/10),i=Object(r.useState)(1),c=Object(ie.a)(i,2),o=c[0],u=c[1],l=10*(o-1)+1,d=10*o;return Object(r.useEffect)((function(){return u(Math.ceil(e.currentPage/10))}),[e.currentPage]),Object(h.jsxs)("div",{className:oe.a.paginator,children:[o>1&&Object(h.jsx)("button",{onClick:function(){return u(o-1)},children:"PREV"}),n.filter((function(e){return e>=l&&e<=d})).map((function(t){return Object(h.jsx)("span",{className:le()(Object(ae.a)({},oe.a.selectedPage,e.currentPage===t),oe.a.pageNumber),onClick:function(n){return e.onPageChanged(t)},children:t},t)})),a>o&&Object(h.jsx)("button",{onClick:function(){u(o+1)},children:"NEXT"})]})},je=function(e){return Object(h.jsxs)("div",{style:{color:"black"},children:[Object(h.jsx)(de,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize}),e.users.map((function(t){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(d.c,{to:"/profile/"+t.id,children:Object(h.jsx)("img",{src:null!=t.photoUrl?t.photoUrl:"data:image/png;base64,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",style:{width:100,height:100}})})}),Object(h.jsx)("div",{children:t.followed?Object(h.jsx)("button",{onClick:function(){e.unFollowThunkCreator(t.id)},disabled:e.followingInProgress.some((function(e){return e===t.id})),children:"Unfollow"}):Object(h.jsx)("button",{onClick:function(){e.followThunkCreator(t.id)},disabled:e.followingInProgress.some((function(e){return e===t.id})),children:"Follow"})})]}),Object(h.jsxs)("span",{children:[Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{children:t.name}),Object(h.jsx)("div",{children:t.status})]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("div",{children:"u.location.country"}),Object(h.jsx)("div",{children:"u.location.city"})]})]})]},t.id)}))]})},ge=n.p+"static/media/preloader.12c9e6de.svg",he=function(){return Object(h.jsx)("img",{src:ge,style:{width:50,height:50}})},be=function(e){return e.usersPage.users},pe=function(e){return e.usersPage.pageSize},fe=function(e){return e.usersPage.totalUsersCount},Oe=function(e){return e.usersPage.currentPage},me=function(e){return e.usersPage.isFetching},ve=function(e){return e.usersPage.followingInProgress},xe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.getUsersThunkCreator(t,e.props.pageSize)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[this.props.isFetching?Object(h.jsx)(he,{}):null,Object(h.jsx)(je,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,setFollowingInProgress:this.props.setFollowingInProgress,followingInProgress:this.props.followingInProgress,followThunkCreator:this.props.followThunkCreator,unFollowThunkCreator:this.props.unFollowThunkCreator})]})}}]),n}(s.a.Component),De=Object(I.c)(Object(B.b)((function(e){return{users:be(e),pageSize:pe(e),totalUsersCount:fe(e),currentPage:Oe(e),isFetching:me(e),followingInProgress:ve(e)}}),{setFollowingInProgress:re,getUsersThunkCreator:function(e,t){return function(){var n=Object(M.a)(q.a.mark((function n(r){var s;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(ne(!0)),n.next=3,_(e,t);case 3:s=n.sent,r(te(e)),r(ne(!1)),r({type:"users/SET_USERS",users:s.items}),r({type:"users/SET_TOTAL_USERS_COUNT",totalCount:s.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},unFollowThunkCreator:function(e){return function(){var t=Object(M.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=z.unFollowHander.bind(z),se(n,e,r,ee);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},followThunkCreator:function(e){return function(){var t=Object(M.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=z.followHandler.bind(z),se(n,e,r,$);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),G)(xe),Ae=n(43),Ce=n.n(Ae),Pe=s.a.memo((function(e){var t=Object(r.useState)(!1),n=Object(ie.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(e.status),c=Object(ie.a)(i,2),o=c[0],u=c[1];return Object(h.jsxs)("div",{children:[!s&&Object(h.jsx)("div",{children:Object(h.jsx)("span",{onDoubleClick:function(){a(!0),u(e.status)},children:e.status})}),s&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{onBlur:function(){a(!1),""!==o&&e.updateStatus(o)},value:o,autoFocus:!0,onChange:function(e){u(e.currentTarget.value)}})})]})})),Se=s.a.memo((function(e){return e.profile?Object(h.jsxs)("div",{className:Ce.a.avaD,children:[Object(h.jsx)("div",{className:Ce.a.status,children:Object(h.jsx)(Pe,{status:e.status,updateStatus:e.updateStatus})}),Object(h.jsx)("div",{className:Ce.a.ava,children:Object(h.jsx)("img",{src:e.profile.photos.large})}),Object(h.jsxs)("div",{className:Ce.a.d,children:[Object(h.jsxs)("div",{children:["Fullname: ",e.profile.fullName," "]}),Object(h.jsxs)("div",{children:["Looking for a job: ",e.profile.lookingForAJob]}),Object(h.jsxs)("div",{children:["Contacts: ",e.profile.contacts.facebook]}),Object(h.jsxs)("div",{children:["LookingForAJobDescription: ",e.profile.lookingForAJobDescription," "]})]})]}):Object(h.jsx)(he,{})})),ke={post:[{id:1,message:"Hi",likesCounter:12},{id:2,message:"How are u?",likesCounter:6}],profile:null,status:""},Ee=function(e){return{type:"profilePage/ADD_POST",text:e}},we=function(e){return{type:"profilePage/SET_STATUS",status:e}},Fe=n(61),Te=n.n(Fe),Ne=n(112),Be=n.n(Ne),Le=s.a.memo((function(e){return Object(h.jsxs)("div",{className:Be.a.item,children:[Object(h.jsx)("img",{src:"https://pristor.ru/wp-content/uploads/2020/03/%D0%90%D0%B2%D0%B0-%D0%B2-%D0%B2%D0%BA-%D0%B2-%D0%BE%D1%82%D0%BF%D1%83%D1%81%D0%BA%D0%B5-%D0%BE%D1%87%D0%B5%D0%BD%D1%8C-%D0%BF%D1%80%D0%B8%D0%BA%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-2.jpg",alt:""}),e.message,Object(h.jsx)("div",{children:Object(h.jsx)("span",{children:e.likesCounter})})]})})),ye=s.a.memo((function(e){return Object(h.jsx)("div",{children:e.post.map((function(e){return Object(h.jsx)(Le,{message:e.message,id:e.id,likesCounter:e.likesCounter})}))})})),Ue=w.a().shape({message:w.b().required("\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c").max(50,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e!")}),Ge=function(e){return Object(h.jsx)(E.a,{initialValues:{message:""},validateOnBlur:!0,validationSchema:Ue,onSubmit:function(t,n){var r=n.setSubmitting,s=n.resetForm;r(!0),setTimeout((function(){e.addPost(t.message),s(),r(!1)}),500)},children:function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("textarea",Object(D.a)({id:"message",placeholder:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u043e\u0432\u043e\u0441\u0442\u044c\u044e"},e.getFieldProps("message"))),e.errors.message&&e.touched.message?Object(h.jsx)("div",{style:{color:"red"},children:e.errors.message}):null]}),Object(h.jsx)("button",{type:"submit",disabled:e.isSubmitting||!!e.errors.message,children:"Send"})]})}})},Ie=s.a.memo((function(e){return Object(h.jsxs)("div",{className:Te.a.wall,children:[Object(h.jsxs)("div",{className:Te.a.mainInput,children:[Object(h.jsx)("div",{className:Te.a.miniAva,children:Object(h.jsx)("img",{src:"https://pristor.ru/wp-content/uploads/2020/03/%D0%90%D0%B2%D0%B0-%D0%B2-%D0%B2%D0%BA-%D0%B2-%D0%BE%D1%82%D0%BF%D1%83%D1%81%D0%BA%D0%B5-%D0%BE%D1%87%D0%B5%D0%BD%D1%8C-%D0%BF%D1%80%D0%B8%D0%BA%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-2.jpg",alt:""})}),Object(h.jsx)(Ge,{addPost:e.addPost})]}),Object(h.jsx)(ye,{post:e.profilePage.post})]})})),Qe=Object(B.b)((function(e){return{profilePage:e.profilePage}}),{addPost:Ee})(Ie),Re=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(Se,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(h.jsx)(Qe,{})]})},qe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;this.props.authUserId&&(e||(e=this.props.authUserId.toString())),this.props.getProfileThunkCreator(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(h.jsx)(Re,Object(D.a)(Object(D.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(s.a.Component),Me=Object(I.c)(Object(B.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),{addPost:Ee,getProfileThunkCreator:function(e){return function(){var t=Object(M.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(e);case 2:r=t.sent,n({type:"profilePage/SET_USER_PROFILE",profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(M.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e);case 2:r=t.sent,n(we(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(M.a)(q.a.mark((function t(n){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:0===t.sent.resultCode&&n(we(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),f.f,G)(qe),He=n(75),_e=n.n(He),ze=function(e){return Object(h.jsxs)("header",{className:_e.a.header,children:[Object(h.jsx)("img",{src:"https://i.ibb.co/QXkdTv9/IT-INCUBATOR.png",alt:""}),Object(h.jsx)("div",{className:_e.a.loginBlock,children:e.isAuth?Object(h.jsxs)("div",{children:[" ",e.login," - ",Object(h.jsx)("button",{onClick:e.loginOut,children:"Logout"})]}):Object(h.jsx)(d.c,{to:"/login",children:" Login "})})]})},Xe={id:null,email:null,login:null,isAuth:!1,loginFailed:null},Ye=function(e,t,n,r){return{type:"auth/SET_USER_DATA",data:{id:e,email:t,login:n,isAuth:r}}},Je=function(){return function(){var e=Object(M.a)(q.a.mark((function e(t){var n,r,s,a,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,a=r.login,i=r.email,t(Ye(s,i,a,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)(ze,Object(D.a)({},this.props))}}]),n}(s.a.Component),Ze=Object(I.c)(Object(B.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{loginOut:function(){return function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:0===e.sent.data.resultCode&&t(Ye(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(Ve),We=w.a().shape({login:w.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d").max(20,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e!"),password:w.b().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c").max(20,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e!")}),Ke=function(e){var t=Object(B.c)((function(e){return e.auth.loginFailed}));return Object(h.jsx)(E.a,{initialValues:{login:"free@samuraijs.com",password:"free",rememberMe:!1},validateOnBlur:!0,validateOnChange:!0,validationSchema:We,onSubmit:function(t,n){var r=n.setSubmitting,s=n.resetForm;r(!0),setTimeout((function(){e.login(t.login,t.password,t.rememberMe),s(),r(!1)}),500)},children:function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("input",Object(D.a)({id:"login",placeholder:"Login"},e.getFieldProps("login"))),e.errors.login&&e.touched.login?Object(h.jsx)("div",{style:{color:"red"},children:e.errors.login}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",Object(D.a)({id:"password",placeholder:"Password",type:"password"},e.getFieldProps("password"))),e.errors.password&&e.touched.password?Object(h.jsx)("div",{style:{color:"red"},children:e.errors.password}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{type:"checkbox",id:"rememberMe",onChange:e.handleChange,defaultChecked:e.values.rememberMe}),Object(h.jsx)("label",{htmlFor:"rememberMe",children:"Remember me"})]}),t?Object(h.jsx)("div",{style:{color:"red"},children:t}):null,Object(h.jsx)("button",{type:"submit",disabled:e.isSubmitting||!!e.errors.login||!!e.errors.password||!e.isValid,children:"Send"})]})}})},$e=Object(B.b)((function(e){return{isAuth:e.auth.isAuth,loginFailed:e.auth.loginFailed}}),{login:function(e,t,n){return function(){var r=Object(M.a)(q.a.mark((function r(s){var a;return q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Z(e,t,n);case 2:0===(a=r.sent).data.resultCode?s(Je()):s({type:"auth/SET_LOGIN_FAILED",error:a.data.messages[0]});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(h.jsx)(f.a,{to:"/profile/20082"}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Login"}),Object(h.jsx)(Ke,{login:e.login,loginFailed:e.loginFailed})]})})),et={initialized:!1},tt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(h.jsx)(d.a,{children:Object(h.jsxs)("div",{className:"app-wrapper",children:[Object(h.jsx)(Ze,{}),Object(h.jsx)(b,{}),Object(h.jsxs)("div",{className:"app-wrapper-content",children:[Object(h.jsx)(f.b,{path:"/dialogs",render:function(){return Object(h.jsx)(Q,{})}}),Object(h.jsx)(f.b,{path:"/profile/:userId",render:function(){return Object(h.jsx)(Me,{})}}),Object(h.jsx)(f.b,{path:"/friends",render:function(){return Object(h.jsx)(De,{})}}),Object(h.jsx)(f.b,{path:"/news",render:function(){return Object(h.jsx)(O,{})}}),Object(h.jsx)(f.b,{path:"/music",render:function(){return Object(h.jsx)(m,{})}}),Object(h.jsx)(f.b,{path:"/settings",render:function(){return Object(h.jsx)(v,{})}}),Object(h.jsx)(f.b,{path:"/login",render:function(){return Object(h.jsx)($e,{})}})]}),Object(h.jsx)(p,{})]})}):Object(h.jsx)(he,{})}}]),n}(s.a.Component),nt=Object(I.c)(Object(B.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Je()).then((function(){t({type:"app/SET_INITIALIZED"})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(tt),rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,246)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},st=n(113),at=Object(I.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profilePage/ADD_POST":var n={id:5,message:t.text,likesCounter:0},r=Object(D.a)({},e);return r.post=Object(x.a)(e.post),r.post.push(n),r;case"profilePage/SET_USER_PROFILE":return Object(D.a)(Object(D.a)({},e),{},{profile:t.profile});case"profilePage/SET_STATUS":return Object(D.a)(Object(D.a)({},e),{},{status:t.status})}return e},messagesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"messagePage/SEND_MESSAGE":var n=Object(D.a)({},e);return n.messages=Object(x.a)(e.messages),n.messages.push({id:4,message:t.message}),n}return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/FOLLOW":return Object(D.a)(Object(D.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(D.a)(Object(D.a)({},e),{},{followed:!0}):e}))});case"users/UNFOLLOW":return Object(D.a)(Object(D.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(D.a)(Object(D.a)({},e),{},{followed:!1}):e}))});case"users/SET_USERS":return Object(D.a)(Object(D.a)({},e),{},{users:Object(x.a)(t.users)});case"users/SET_CURRENT_PAGE":return Object(D.a)(Object(D.a)({},e),{},{currentPage:t.currentPage});case"users/SET_TOTAL_USERS_COUNT":return Object(D.a)(Object(D.a)({},e),{},{totalUsersCount:t.totalCount});case"users/TOGGLE_IS_FETCHING":return Object(D.a)(Object(D.a)({},e),{},{isFetching:t.isFetching});case"users/FOLLOWING_IN_PROGRESS":return Object(D.a)(Object(D.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(x.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))})}return e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":return console.log(t.data),Object(D.a)(Object(D.a)(Object(D.a)({},e),t.data),{},{isAuth:t.data.isAuth,login:t.data.login});case"auth/SET_LOGIN_FAILED":return Object(D.a)(Object(D.a)({},e),{},{loginFailed:t.error})}return e},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/SET_INITIALIZED":return Object(D.a)(Object(D.a)({},e),{},{initialized:!0});default:return e}}}),it=Object(I.d)(at,Object(I.a)(st.a));window.store=it;var ct=it;i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(d.b,{children:Object(h.jsx)(B.a,{store:ct,children:Object(h.jsx)(nt,{})})})}),document.getElementById("root")),rt()},27:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__3hne6",dialogsItems:"Dialogs_dialogsItems__2YPT7",dialog:"Dialogs_dialog__1UJhZ",messages:"Dialogs_messages__2AfGP",message:"Dialogs_message__1UDuk",activeLink:"Dialogs_activeLink__1kfTw",button:"Dialogs_button__2eAoD"}},43:function(e,t,n){e.exports={avaD:"AvaD_avaD__1u5q5",status:"AvaD_status__3PT63",ava:"AvaD_ava__1wTd3",d:"AvaD_d__3XTS2"}},60:function(e,t,n){e.exports={activePage:"Pagination_activePage__2LNYa",selectedPage:"Pagination_selectedPage__1LzZB",pageNumber:"Pagination_pageNumber__3HK63",paginator:"Pagination_paginator__3ZWiU"}},61:function(e,t,n){e.exports={mainInput:"Wall_mainInput__35EBH",miniAva:"Wall_miniAva__b1Qgw",input:"Wall_input__PadBT",button:"Wall_button__7yniM"}},75:function(e,t,n){e.exports={header:"Header_header__1G08e",loginBlock:"Header_loginBlock__3ZOk_"}}},[[245,1,2]]]);
//# sourceMappingURL=main.d58b61c6.chunk.js.map