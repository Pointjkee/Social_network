{"version":3,"sources":["components/Common/Paginator/Pagination.module.css","components/Profile/Wall/MyPost/Post/Post.module.css","components/Navbar/Navbar.module.css","components/Navbar/Navbar.tsx","components/Chat/Chat.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","Redux/messagesPage-reducer.ts","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Messages/Message.tsx","components/Dialogs/DialogForm.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","API/api.ts","Redux/users-reducer.ts","components/Common/Paginator/Pagination.tsx","components/Users/Users.tsx","Files/img/user.png","Files/gif/preloader.svg","components/Common/Preloader/Preloader.tsx","Redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Profile/AvaD/ProfileStatus.tsx","components/Profile/AvaD/AvaD.tsx","Redux/profilePage-reducer.ts","components/Profile/Wall/MyPost/Post/Post.tsx","components/Profile/Wall/MyPost/MyPost.tsx","components/Profile/Wall/MessageForm.tsx","components/Profile/Wall/Wall.tsx","components/Profile/Wall/WallContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","Redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","Redux/app-reducer.ts","App.tsx","reportWebVitals.ts","Redux/storeRedux.ts","index.tsx","components/Dialogs/Dialogs.module.css","components/Profile/AvaD/AvaD.module.css","components/Profile/Wall/Wall.module.css","components/Header/Header.module.css"],"names":["module","exports","Navbar","className","classes","navbar","item","to","activeClassName","activeLink","Chat","News","Music","Settings","initialState","dialogs","id","name","messages","message","DialogItem","React","memo","props","d","dialog","Message","validationSchema","yup","shape","required","max","DialogForm","initialValues","validateOnBlur","onSubmit","values","setSubmitting","resetForm","setTimeout","sendMessage","handleSubmit","placeholder","getFieldProps","errors","touched","style","color","type","disabled","isSubmitting","Dialogs","dialogsItems","messagesPage","map","el","sendMessageClick","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","restProps","compose","instance","require","default","create","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","then","response","data","followAPI","followHandler","post","resultCode","unFollowHander","delete","profileAPI","userId","status","put","authAPI","email","password","rememberMe","users","totalUsersCount","isFetching","followingInProgress","follow","userID","unFollow","setCurrentPage","setIsFetching","setFollowingInProgress","followUnFollowFlow","dispatch","apiMethod","actionCreator","a","Pagination","pagesCount","Math","ceil","pages","i","push","slice","t","cursor","paddingRight","styles","activePage","onClick","onPageChanged","Users","u","src","photoUrl","width","height","followed","unFollowThunkCreator","some","followThunkCreator","Preloader","preloader","getUsers","usersPage","getPagesSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","getUsersThunkCreator","this","items","totalCount","bind","ProfileStatus","useState","editMode","setEitMode","title","setTitle","onDoubleClick","onBlur","updateStatus","value","autoFocus","onChange","e","currentTarget","AvaD","profile","avaD","ava","photos","large","fullName","lookingForAJob","contacts","facebook","lookingForAJobDescription","likesCounter","addPost","text","setStatus","Post","p","alt","MyPost","MessageForm","Wall","wall","mainInput","miniAva","profilePage","WallContainer","Profile","ProfileContainer","match","params","authUserId","toString","getProfileThunkCreator","getStatus","withRouter","Header","s","header","loginBlock","login","loginOut","loginFailed","setAuthUserData","authThunk","HeaderContainer","LoginForm","useSelector","validateOnChange","handleChange","defaultChecked","htmlFor","isValid","error","initialized","App","initializeApp","path","render","DialogsContainer","app","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducer","combineReducers","action","newPost","stateCopy","filter","console","log","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45d4d5ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"activePage\":\"Pagination_activePage__2LNYa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__245wk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__1rTXG\",\"item\":\"Navbar_item__1e2tb\",\"activeLink\":\"Navbar_activeLink__2YwHc\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Navbar.module.css'\r\n\r\nexport const Navbar = () => {\r\n    return (\r\n        <nav className={classes.navbar}>\r\n            <div className={classes.item}><NavLink to ='/profile/20082' activeClassName={classes.activeLink}>Profile</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/dialogs' activeClassName={classes.activeLink}>Messages</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/friends' activeClassName={classes.activeLink}>Friends</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/News' activeClassName={classes.activeLink}>News</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/Music' activeClassName={classes.activeLink}>Music</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/Settings' activeClassName={classes.activeLink}>Settings</NavLink></div>\r\n        </nav>\r\n    )\r\n}","import React from \"react\";\r\nimport './Chat.css'\r\n\r\nexport const Chat = () => {\r\n    return (\r\n        <div className='chat'>\r\n            <div>\r\n                Chat online\r\n            </div>\r\n            <div>\r\n                Friend list\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\nexport const News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\nexport const Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\nexport const Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}","import {messagesPageType} from \"./store\"\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Denis'},\r\n        {id: 2, name: 'Ylia'},\r\n        {id: 3, name: 'Dymich'}],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are u?'},\r\n        {id: 3, message: 'Where are u?'}\r\n    ],\r\n}\r\n\r\nexport const messagesPageReducer = (state: messagesPageType = initialState, action: SendMessageActionType) => {\r\n    switch (action.type) {\r\n        case 'messagePage/SEND_MESSAGE': {\r\n            let stateCopy = {...state}\r\n            stateCopy.messages = [...state.messages]\r\n            stateCopy.messages.push({id: 4, message: action.message})\r\n            return stateCopy;\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nexport type SendMessageActionType = ReturnType<typeof sendMessageClick>\r\n\r\nexport const sendMessageClick = (message: string) => {\r\n    return {type: 'messagePage/SEND_MESSAGE', message}\r\n}\r\n","import d from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {dialogsType} from \"../../../Redux/store\";\r\n\r\nexport const DialogItem = React.memo((props: dialogsType) => {\r\n    return (\r\n        <div className={d.dialog}>\r\n            <NavLink to={'/dialogs/' + props.id}\r\n                     activeClassName={d.activeLink}>{props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n})","import d from \"../Dialogs.module.css\";\r\nimport React from \"react\";\r\nimport {messagesType} from \"../../../Redux/store\";\r\n\r\nexport const Message = React.memo((props: messagesType) => {\r\n    return (\r\n        <div>\r\n            <div className={d.message}>\r\n                {props.message}\r\n            </div>\r\n        </div>\r\n    )\r\n})","import {Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport * as yup from 'yup'\r\n\r\ntype propsType = {\r\n    sendMessage: (message: string) => void\r\n}\r\nconst validationSchema = yup.object().shape({\r\n    message: yup.string().required('Напишите что-нибудь').max(50, 'Слишком много!')\r\n})\r\n\r\nexport const DialogForm = (props: propsType) => (\r\n    <Formik\r\n        initialValues={{message: ''}}\r\n        validateOnBlur\r\n        validationSchema={validationSchema}\r\n        onSubmit={(values, {setSubmitting, resetForm}) => {\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                props.sendMessage(values.message)\r\n                resetForm()\r\n                setSubmitting(false)\r\n            }, 500)\r\n        }}\r\n    >\r\n        {props => (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n            <textarea\r\n                id=\"message\"\r\n                placeholder=\"Поделиться новостью\"\r\n                {...props.getFieldProps(\"message\")}\r\n            />\r\n                    {props.errors.message && props.touched.message ? (\r\n                        <div style={{color: 'red'}}>{props.errors.message}</div>\r\n                    ) : null}\r\n                </div>\r\n                <button type=\"submit\"\r\n                        disabled={props.isSubmitting || !!props.errors.message}\r\n                >Send\r\n                </button>\r\n            </form>\r\n        )}\r\n    </Formik>\r\n)","import React from 'react';\r\nimport d from './Dialogs.module.css'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from './Messages/Message';\r\nimport {messagesPageType} from \"../../Redux/store\";\r\nimport {DialogForm} from \"./DialogForm\";\r\n\r\nexport type DialogsPropsType = {\r\n    sendMessageClick: (message: string) => void\r\n    messagesPage: messagesPageType\r\n    isAuth: boolean\r\n}\r\nexport const Dialogs = React.memo((props: DialogsPropsType) => {\r\n    return (\r\n        <div className={d.dialogs}>\r\n            <div className={d.dialogsItems}>\r\n                {props.messagesPage.dialogs.map(el => <DialogItem name={el.name} id={el.id}/>)}\r\n            </div>\r\n            <div className={d.messages}>\r\n                <div>\r\n                    {props.messagesPage.messages.map(el => <Message message={el.message} id={el.id}/>)}\r\n                </div>\r\n                <DialogForm sendMessage={props.sendMessageClick}/>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n})","import React, {Component, ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../Redux/storeRedux\";\r\n\r\ntype isAuthToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToPropsForRedirect = (state: AppStateType): isAuthToPropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n    function RedirectComponent(props: isAuthToPropsType) {\r\n        let {isAuth, ...restProps} = props\r\n        return (!isAuth) ? <Redirect to={'/login'}/> : <Component {...restProps as T} />\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","import {sendMessageClick} from '../../Redux/messagesPage-reducer';\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {messagesPageType} from \"../../Redux/store\";\r\nimport {AppStateType} from \"../../Redux/storeRedux\";\r\nimport React from \"react\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype MapStateToPropsType = {\r\n    messagesPage: messagesPageType,\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        messagesPage: state.messagesPage,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {sendMessageClick}),\r\n    withAuthRedirect,\r\n)(Dialogs)\r\n","import {usersType} from \"../Redux/users-reducer\";\r\nimport {profileType} from \"../Redux/store\";\r\n\r\nconst {default: axios} = require('axios');\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '1f886700-a829-4416-bf51-a1d8fa58d064'\r\n    }\r\n})\r\n\r\ntype UsersResponseType = {\r\n    data: {\r\n        error: string | null,\r\n        items: usersType,\r\n        totalCount: number,\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then((response: UsersResponseType) => response.data)\r\n    },\r\n}\r\n\r\ntype followResponseType = {\r\n    data: {\r\n        data: {}\r\n        messages: string[],\r\n        resultCode: number,\r\n    }\r\n}\r\n\r\nexport const followAPI = {\r\n    followHandler(id: number) {\r\n        return instance.post(`follow/${id}`)\r\n            .then((response: followResponseType) => response.data.resultCode)\r\n    },\r\n    unFollowHander(id: number) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then((response: followResponseType) => response.data.resultCode)\r\n    }\r\n}\r\ntype responseType = {\r\n    data: profileType\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then((response: responseType) => response.data)\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status})\r\n            .then((response: any) => response.data)\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    logOut() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\n","import {followAPI, usersAPI} from \"../API/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\ntype ActionsTypes = followACType | unFollowAC | usersAC | currentPageAC\r\n    | setTotalUsersCountAC | setIsFetching | followingInProgress\r\n\r\nexport type usersType = Array<{\r\n    id: number,\r\n    photoUrl: string,\r\n    followed: boolean,\r\n    name: string,\r\n    status: string,\r\n    location: { city: string, country: string },\r\n}>\r\n\r\ntype initialStateType = {\r\n    users: usersType\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingInProgress: (boolean | number)[]\r\n}\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: initialStateType = initialState, action: ActionsTypes) => {\r\n    switch (action.type) {\r\n        case 'users/FOLLOW':\r\n            return {\r\n                ...state, users: state.users\r\n                    .map(u => u.id === action.userID ? {...u, followed: true} : u)\r\n            }\r\n        case 'users/UNFOLLOW': {\r\n            return {\r\n                ...state, users: state.users\r\n                    .map(u => u.id === action.userID ? {...u, followed: false} : u)\r\n            }\r\n        }\r\n        case 'users/SET_USERS': {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n        case 'users/SET_CURRENT_PAGE': {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case 'users/SET_TOTAL_USERS_COUNT': {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case 'users/TOGGLE_IS_FETCHING': {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case 'users/FOLLOWING_IN_PROGRESS': {\r\n            return {\r\n                ...state, followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userID]\r\n                    : state.followingInProgress.filter(id => id !== action.userID)\r\n            }\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nexport type followACType = ReturnType<typeof follow>\r\nexport type unFollowAC = ReturnType<typeof unFollow>\r\nexport type usersAC = ReturnType<typeof setUsers>\r\nexport type currentPageAC = ReturnType<typeof setCurrentPage>\r\nexport type setTotalUsersCountAC = ReturnType<typeof setTotalUsersCount>\r\nexport type setIsFetching = ReturnType<typeof setIsFetching>\r\nexport type followingInProgress = ReturnType<typeof setFollowingInProgress>\r\n\r\nexport const follow = (userID: number) => ({type: 'users/FOLLOW', userID} as const)\r\nexport const unFollow = (userID: number) => ({type: 'users/UNFOLLOW', userID} as const)\r\nexport const setUsers = (users: usersType) => ({type: 'users/SET_USERS', users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: 'users/SET_CURRENT_PAGE', currentPage} as const)\r\nexport const setTotalUsersCount = (totalCount: number) => ({type: 'users/SET_TOTAL_USERS_COUNT', totalCount} as const)\r\nexport const setIsFetching = (isFetching: boolean) => ({type: 'users/TOGGLE_IS_FETCHING', isFetching} as const)\r\nexport const setFollowingInProgress = (followingInProgress: boolean, userID: number) => ({\r\n    type: 'users/FOLLOWING_IN_PROGRESS',\r\n    followingInProgress,\r\n    userID\r\n} as const)\r\n\r\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n    dispatch(setIsFetching(true))\r\n    let response = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setCurrentPage(currentPage))\r\n    dispatch(setIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalUsersCount(response.totalCount))\r\n}\r\n\r\nconst followUnFollowFlow = async (dispatch: Dispatch, userID: number, apiMethod: any, actionCreator: any) => {\r\n    dispatch(setFollowingInProgress(true, userID))\r\n    let resultCode = await apiMethod(userID)\r\n    if (resultCode === 0) {\r\n        dispatch(actionCreator(userID))\r\n    }\r\n    dispatch(setFollowingInProgress(false, userID))\r\n}\r\n\r\nexport const followThunkCreator = (userID: number) => async (dispatch: Dispatch) => {\r\n    let apiMethod = followAPI.followHandler.bind(followAPI)\r\n    followUnFollowFlow(dispatch, userID, apiMethod, follow)\r\n}\r\n\r\nexport const unFollowThunkCreator = (userID: number) => async (dispatch: Dispatch) => {\r\n    let apiMethod = followAPI.unFollowHander.bind(followAPI)\r\n    followUnFollowFlow(dispatch, userID, apiMethod, unFollow)\r\n    }\r\n\r\n","import React from \"react\";\r\nimport styles from \"./Pagination.module.css\";\r\n\r\ntype propsType = {\r\n    onPageChanged: (currentPage: number) => void\r\n    currentPage: number,\r\n    totalUsersCount: number,\r\n    pageSize: number\r\n}\r\n\r\nexport const Pagination = (props: propsType) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    return <div>\r\n        {pages.slice(0, 10).map(t => {\r\n            return <span\r\n                style={{cursor: 'pointer', paddingRight: 2}}\r\n                className={props.currentPage === t && styles.activePage || ''}\r\n                onClick={() => {\r\n                    props.onPageChanged(t)\r\n                }}\r\n            >{t}</span>\r\n        })}\r\n    </div>\r\n}","import React from \"react\";\r\n\r\nimport userPhoto from \"../../Files/img/user.png\";\r\nimport {usersType} from \"../../Redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Pagination} from \"../Common/Paginator/Pagination\";\r\n\r\ntype usersTypeProps = {\r\n    totalUsersCount: number,\r\n    pageSize: number\r\n    currentPage: number,\r\n    users: usersType,\r\n    onPageChanged: (currentPage: number) => void\r\n    setFollowingInProgress: (followingInProgress: boolean, userID: number) => void,\r\n    followingInProgress: (boolean | number)[],\r\n    followThunkCreator: (userID: number) => void,\r\n    unFollowThunkCreator: (userID: number) => void,\r\n}\r\n\r\nexport const Users = (props: usersTypeProps) => {\r\n    return (\r\n        <div style={{color: 'black'}}>\r\n            <Pagination currentPage={props.currentPage}\r\n                        onPageChanged={props.onPageChanged}\r\n                        totalUsersCount={props.totalUsersCount}\r\n                        pageSize={props.pageSize}\r\n            />\r\n            {\r\n                props.users.map(u => {\r\n                    const followHandler = () => {\r\n                        props.followThunkCreator(u.id)\r\n                    }\r\n                    const unFollowHandler = () => {\r\n                        props.unFollowThunkCreator(u.id)\r\n                    }\r\n                    return <div key={u.id}>\r\n                <span>\r\n                    <div>\r\n                       <NavLink to={'/profile/' + u.id}>\r\n                            <img src={u.photoUrl != null ? u.photoUrl : userPhoto} style={{width: 100, height: 100}}/>\r\n                       </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            u.followed\r\n                                ?\r\n                                <button onClick={unFollowHandler}\r\n                                        disabled={props.followingInProgress.some(id => id === u.id)}>Unfollow</button>\r\n                                : <button onClick={followHandler}\r\n                                          disabled={props.followingInProgress.some(id => id === u.id)}>Follow</button>\r\n                        }\r\n                    </div>\r\n                </span>\r\n                        <span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{'u.location.country'}</div>\r\n                        <div>{'u.location.city'}</div>\r\n                    </span>\r\n                </span>\r\n                    </div>\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/preloader.12c9e6de.svg\";","import preloader from \"../../../Files/gif/preloader.svg\";\r\nimport React from \"react\";\r\n\r\nexport const Preloader = () => {\r\n    return <img src={preloader} style={{width: 50, height: 50}}/>\r\n}  ","import {AppStateType} from \"./storeRedux\";\r\nimport {usersType} from \"./users-reducer\";\r\n\r\nexport const getUsers = (state: AppStateType): usersType => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPagesSize = (state: AppStateType): number => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType): number => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType): number => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType): boolean => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType): (boolean | number)[] => {\r\n    return state.usersPage.followingInProgress\r\n}","import {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/storeRedux\";\r\nimport {\r\n    followThunkCreator,\r\n    getUsersThunkCreator,\r\n    setFollowingInProgress,\r\n    unFollowThunkCreator,\r\n    usersType\r\n} from \"../../Redux/users-reducer\";\r\nimport React from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPagesSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../Redux/users-selectors\";\r\n\r\ntype usersPropsType = {\r\n    users: usersType,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    setFollowingInProgress: (followingInProgress: boolean, userID: number) => void,\r\n    followingInProgress: (boolean | number)[],\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void,\r\n    followThunkCreator: (userID: number) => void,\r\n    unFollowThunkCreator: (userID: number) => void,\r\n}\r\n\r\nclass UsersContainer extends React.Component<usersPropsType> {\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (currentPage: number) => {\r\n        this.props.getUsersThunkCreator(currentPage, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                users={this.props.users}\r\n                onPageChanged={this.onPageChanged}\r\n                setFollowingInProgress={this.props.setFollowingInProgress}\r\n                followingInProgress={this.props.followingInProgress}\r\n                followThunkCreator={this.props.followThunkCreator}\r\n                unFollowThunkCreator={this.props.unFollowThunkCreator}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPagesSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps,\r\n    {\r\n        setFollowingInProgress,\r\n        getUsersThunkCreator,\r\n        unFollowThunkCreator,\r\n        followThunkCreator\r\n    }\r\n    ),\r\n    withAuthRedirect\r\n)(UsersContainer)","import React, {useState} from \"react\";\r\nimport {ChangeEvent} from \"react\";\r\n\r\ntype propsType = {\r\n    status: string,\r\n    updateStatus: (status: string) => void,\r\n}\r\n\r\nexport const ProfileStatus = React.memo((props: propsType) => {\r\n    const [editMode, setEitMode] = useState<boolean>(false)\r\n    const [title, setTitle] = useState<string>(props.status)\r\n    const editModeHandlerOn = () => {\r\n        setEitMode(true)\r\n        setTitle(props.status)\r\n    }\r\n    const editModeHandlerOff = () => {\r\n        setEitMode(false)\r\n        if (title !== '') {\r\n            props.updateStatus(title)\r\n        }\r\n    }\r\n    const inputHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <div>\r\n            {!editMode && <div>\r\n                <span onDoubleClick={editModeHandlerOn}>{props.status }</span>\r\n            </div>}\r\n            {editMode && <div>\r\n                <input onBlur={editModeHandlerOff}\r\n                       value={title}\r\n                       autoFocus={true}\r\n                       onChange={inputHandler}/>\r\n            </div>}\r\n        </div>\r\n    )\r\n})\r\n","import classes from \"./AvaD.module.css\";\r\nimport React from \"react\";\r\nimport {profileType} from \"../../../Redux/store\";\r\nimport {Preloader} from \"../../Common/Preloader/Preloader\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\n\r\ntype propsType = {\r\n    profile: profileType | null,\r\n    status: string,\r\n    updateStatus: (status: string) => void,\r\n}\r\n\r\nexport const AvaD = React.memo( (props: propsType) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={classes.avaD}>\r\n            <div className={classes.status}>\r\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n            <div className={classes.ava}>\r\n                <img src={props.profile.photos.large}/>\r\n            </div>\r\n\r\n            <div className={classes.d}>\r\n                <div>Fullname: {props.profile.fullName} </div>\r\n                <div>Looking for a job: {props.profile.lookingForAJob}</div>\r\n                <div>Contacts: {props.profile.contacts.facebook}</div>\r\n                <div>LookingForAJobDescription: {props.profile.lookingForAJobDescription} </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import {profilePageType, profileType} from \"./store\"\r\nimport {profileAPI} from \"../API/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst initialState = {\r\n    post: [\r\n        {id: 1, message: 'Hi', likesCounter: 12},\r\n        {id: 2, message: 'How are u?', likesCounter: 6},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n}\r\n\r\ntype ActionsType = AddPostActionType | SetUserProfileType | SetStatusType\r\n\r\nexport const profilePageReducer = (state: profilePageType = initialState, action: ActionsType) => {\r\n    switch (action.type) {\r\n        case 'profilePage/ADD_POST': {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.text,\r\n                likesCounter: 0,\r\n            }\r\n            let stateCopy = {...state}\r\n            stateCopy.post = [...state.post]\r\n            stateCopy.post.push(newPost)\r\n            return stateCopy\r\n        }\r\n        case 'profilePage/SET_USER_PROFILE': {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case 'profilePage/SET_STATUS': {\r\n            return {...state, status: action.status}\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nexport type AddPostActionType = ReturnType<typeof addPost>\r\n\r\nexport const addPost = (text: string) => {\r\n    return {\r\n        type: 'profilePage/ADD_POST',\r\n        text\r\n    } as const\r\n}\r\n\r\nexport type SetUserProfileType = ReturnType<typeof setUserProfile>\r\n\r\nexport const setUserProfile = (profile: profileType) => {\r\n    return {\r\n        type: 'profilePage/SET_USER_PROFILE',\r\n        profile\r\n    } as const\r\n}\r\n\r\nexport type SetStatusType = ReturnType<typeof setStatus>\r\n\r\nexport const setStatus = (status: string) => {\r\n    return {\r\n        type: 'profilePage/SET_STATUS',\r\n        status\r\n    } as const\r\n}\r\n\r\nexport const getProfileThunkCreator = (userID: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getProfile(userID)\r\n    dispatch(setUserProfile(response))\r\n}\r\n\r\nexport const getStatus = (userID: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getStatus(userID)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport {postType} from \"../../../../../Redux/store\";\r\nimport p from './Post.module.css'\r\n\r\nexport const Post = React.memo( (props: postType) => {\r\n        return (\r\n        <div className={p.item}>\r\n            <img\r\n                src=\"https://pristor.ru/wp-content/uploads/2020/03/%D0%90%D0%B2%D0%B0-%D0%B2-%D0%B2%D0%BA-%D0%B2-%D0%BE%D1%82%D0%BF%D1%83%D1%81%D0%BA%D0%B5-%D0%BE%D1%87%D0%B5%D0%BD%D1%8C-%D0%BF%D1%80%D0%B8%D0%BA%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-2.jpg\"\r\n                alt=\"\"/>\r\n            {props.message}\r\n            <div>\r\n                <span>{props.likesCounter}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport {postType} from \"../../../../Redux/store\";\r\nimport {Post} from \"./Post/Post\";\r\n\r\ntype propsType = {\r\n    post: Array<postType>\r\n}\r\n\r\nexport const MyPost = React.memo((props: propsType) => {\r\n    return (\r\n        <div>\r\n            {props.post.map((el: postType) =>\r\n                <Post message={el.message}\r\n                      id={el.id}\r\n                      likesCounter={el.likesCounter}/>)}\r\n        </div>\r\n    )\r\n})","import {Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport * as yup from 'yup'\r\n\r\ntype propsType = {\r\n    addPost: (text: string) => void\r\n}\r\nconst validationSchema = yup.object().shape({\r\n    message: yup.string().required('Напишите что-нибудь').max(50, 'Слишком много!')\r\n})\r\nexport const MessageForm = (props: propsType) => (\r\n    <Formik\r\n        initialValues={{message: ''}}\r\n        validateOnBlur\r\n        validationSchema={validationSchema}\r\n        onSubmit={(values, {setSubmitting, resetForm}) => {\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                props.addPost(values.message)\r\n                resetForm()\r\n                setSubmitting(false)\r\n            }, 500)\r\n        }}\r\n    >\r\n        {props => (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n            <textarea\r\n                id=\"message\"\r\n                placeholder=\"Поделиться новостью\"\r\n                {...props.getFieldProps(\"message\")}\r\n            />\r\n                    {props.errors.message && props.touched.message ? (\r\n                        <div style={{color: 'red'}}>{props.errors.message}</div>\r\n                    ) : null}\r\n                </div>\r\n                <button type=\"submit\"\r\n                        disabled={props.isSubmitting || !!props.errors.message}\r\n                >Send\r\n                </button>\r\n            </form>\r\n        )}\r\n    </Formik>\r\n)\r\n","import React from 'react';\r\nimport classes from './Wall.module.css'\r\nimport {MyPost} from \"./MyPost/MyPost\";\r\nimport {profilePageType} from \"../../../Redux/store\";\r\nimport {MessageForm} from \"./MessageForm\";\r\n\r\ntype WallPropsType = {\r\n    profilePage: profilePageType\r\n    addPost: (text: string) => void\r\n}\r\n\r\nexport const Wall = React.memo((props: WallPropsType) => {\r\n    return (\r\n        <div className={classes.wall}>\r\n            <div className={classes.mainInput}>\r\n                <div className={classes.miniAva}>\r\n                    <img\r\n                        src=\"https://pristor.ru/wp-content/uploads/2020/03/%D0%90%D0%B2%D0%B0-%D0%B2-%D0%B2%D0%BA-%D0%B2-%D0%BE%D1%82%D0%BF%D1%83%D1%81%D0%BA%D0%B5-%D0%BE%D1%87%D0%B5%D0%BD%D1%8C-%D0%BF%D1%80%D0%B8%D0%BA%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-2.jpg\"\r\n                        alt=\"\"/>\r\n                </div>\r\n                <MessageForm addPost={props.addPost}/>\r\n            </div>\r\n            <MyPost post={props.profilePage.post}/>\r\n        </div>\r\n    )\r\n})","import React from 'react';\r\nimport {profilePageType} from \"../../../Redux/store\";\r\nimport { addPost} from '../../../Redux/profilePage-reducer';\r\nimport {Wall} from \"./Wall\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../Redux/storeRedux\";\r\n\r\ntype MapStateToPropsType = {\r\n    profilePage: profilePageType\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\n\r\nexport const WallContainer = connect(mapStateToProps, {addPost})(Wall)","import React from 'react';\r\nimport {AvaD} from \"./AvaD/AvaD\";\r\nimport {WallContainer} from \"./Wall/WallContainer\";\r\nimport {profileType} from \"../../Redux/store\";\r\n\r\ntype propsType = {\r\n    profile: profileType | null,\r\n    status: string,\r\n    updateStatus: (status: string) => void,\r\n}\r\n\r\nexport const Profile = (props: propsType) => {\r\n    return (\r\n        <div>\r\n            <AvaD profile={props.profile}\r\n                  status={props.status}\r\n                  updateStatus={props.updateStatus}\r\n            />\r\n            <WallContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport {Profile} from \"./Profile\";\r\nimport {postType, profileType} from \"../../Redux/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addPost,\r\n    getProfileThunkCreator,\r\n    getStatus,\r\n    updateStatus\r\n} from \"../../Redux/profilePage-reducer\";\r\nimport {AppStateType} from '../../Redux/storeRedux';\r\nimport {RouteComponentProps, withRouter} from 'react-router';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\n\r\ntype PathParamsType = {\r\n    userId?: string\r\n}\r\ntype ProfilePropsType = RouteComponentProps<PathParamsType> & {\r\n    post?: Array<postType>,\r\n    newPostText?: string,\r\n    addPost: () => void,\r\n    profile: profileType | null,\r\n    match: {\r\n        params: {\r\n            userId: string\r\n        }\r\n    },\r\n    getProfileThunkCreator: any,\r\n    setStatus: (status: string) => void,\r\n    getStatus: (userID: string) => void,\r\n    updateStatus: (status: string) => void,\r\n    status: string,\r\n    authUserId: number | null,\r\n    isAuth: boolean,\r\n}\r\n\r\nclass ProfileContainer extends React.Component<ProfilePropsType> {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (this.props.authUserId) {\r\n            if (!userId) {\r\n                userId = this.props.authUserId.toString()\r\n            }\r\n        }\r\n        this.props.getProfileThunkCreator(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\ntype profileTypeForMap = {\r\n    profile: profileType | null,\r\n    status: string | null,\r\n    authUserId: number | null,\r\n    isAuth: boolean,\r\n}\r\nconst mapStateToProps = (state: AppStateType): profileTypeForMap => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authUserId: state.auth.id,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps,\r\n        {\r\n            addPost,\r\n            getProfileThunkCreator,\r\n            getStatus,\r\n            updateStatus,\r\n        }\r\n    ),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean,\r\n    login: string | null,\r\n    loginOut: () => void,\r\n}\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src='https://i.ibb.co/QXkdTv9/IT-INCUBATOR.png'\r\n                alt=''/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div> {props.login} - <button onClick={props.loginOut}>Logout</button></div>\r\n                    : <NavLink to={'/login'}> Login </NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n","import {authAPI} from \"../API/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    loginFailed: null,\r\n}\r\ntype stateType = {\r\n    id: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean,\r\n    loginFailed: string | null,\r\n}\r\ntype ActionsType = setUserDataAC | setLoginFailedType\r\n\r\nexport const authReducer = (state: stateType = initialState, action: ActionsType) => {\r\n    switch (action.type) {\r\n        case 'auth/SET_USER_DATA': {\r\n            console.log(action.data)\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: action.data.isAuth,\r\n                login: action.data.login\r\n            }\r\n        }\r\n        case 'auth/SET_LOGIN_FAILED': {\r\n            return {\r\n                ...state,\r\n                loginFailed: action.error\r\n            }\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nexport type setUserDataAC = ReturnType<typeof setAuthUserData>\r\n\r\nexport const setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {type: 'auth/SET_USER_DATA', data: {id, email, login, isAuth}} as const\r\n}\r\n\r\nexport type setLoginFailedType = ReturnType<typeof setLoginFailed>\r\nexport const setLoginFailed = (error: string) => {\r\n    return {type: 'auth/SET_LOGIN_FAILED', error} as const\r\n}\r\n\r\nexport const authThunk = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.getAuth()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: any) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(authThunk())\r\n    } else {\r\n        dispatch(setLoginFailed(response.data.messages[0]))\r\n    }\r\n}\r\n\r\nexport const loginOut = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logOut()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}","import React from 'react';\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginOut} from \"../../Redux/auth-reducer\";\r\nimport {AppStateType} from \"../../Redux/storeRedux\";\r\nimport {compose} from \"redux\";\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean,\r\n    login: string | null,\r\n    loginOut: () => void,\r\n}\r\n\r\nclass HeaderContainer extends React.Component<HeaderPropsType> {\r\n    render() {\r\n        return <Header  {...this.props}  />\r\n    }\r\n}\r\n\r\ntype mapStateTopPropsType = {\r\n    isAuth: boolean,\r\n    login: string | null,\r\n}\r\nconst mapStateToprops = (state: AppStateType): mapStateTopPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToprops, {loginOut}))(HeaderContainer)\r\n\r\n","import React from 'react';\r\nimport {Formik} from \"formik\";\r\nimport * as yup from 'yup'\r\nimport {connect, useSelector} from 'react-redux';\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {AppStateType} from \"../../Redux/storeRedux\";\r\n\r\n\r\ntype LoginPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean)=>void\r\n    isAuth?: boolean\r\n    loginFailed: string | null\r\n}\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile/20082'}/>\r\n    }\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginForm login={props.login} loginFailed={props.loginFailed}/>\r\n    </div>\r\n}\r\n\r\nconst validationSchema = yup.object().shape({\r\n    login: yup.string().required('Введите логин').max(20, 'Слишком много!'),\r\n    password: yup.string().required('Введите пароль').max(20, 'Слишком много!')\r\n})\r\n\r\nexport const LoginForm = (props: LoginPropsType) => {\r\n    const loginFailed = useSelector<AppStateType, string | null>(state => state.auth.loginFailed)\r\n    return <Formik\r\n        initialValues={{\r\n            login: 'free@samuraijs.com',\r\n            password: 'free',\r\n            rememberMe: false,\r\n\r\n        }}\r\n        validateOnBlur\r\n        validateOnChange\r\n        validationSchema={validationSchema}\r\n        onSubmit={(values, {setSubmitting, resetForm}) => {\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                props.login(values.login, values.password, values.rememberMe)\r\n                resetForm()\r\n                setSubmitting(false)\r\n            }, 500)\r\n        }}\r\n    >\r\n        {props => (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <input\r\n                        id=\"login\"\r\n                        placeholder=\"Login\"\r\n                        {...props.getFieldProps(\"login\")}\r\n                    />\r\n                    {props.errors.login && props.touched.login ? (\r\n                        <div style={{color: 'red'}}>{props.errors.login}</div>\r\n                    ) : null}\r\n                </div>\r\n                <div>\r\n                    <input\r\n                        id=\"password\"\r\n                        placeholder=\"Password\"\r\n                        type={'password'}\r\n                        {...props.getFieldProps(\"password\")}\r\n                    />\r\n                    {props.errors.password && props.touched.password ? (\r\n                        <div style={{color: 'red'}}>{props.errors.password}</div>\r\n                    ) : null}\r\n                </div>\r\n                <div>\r\n                    <input type=\"checkbox\"\r\n                           id=\"rememberMe\"\r\n                           onChange={props.handleChange}\r\n                           defaultChecked={props.values.rememberMe}\r\n                    />\r\n                    <label htmlFor=\"rememberMe\">\r\n                        Remember me\r\n                    </label>\r\n\r\n                </div>\r\n                {!!loginFailed ? (\r\n                    <div style={{color: 'red'}}>{loginFailed}</div>\r\n                ) : null}\r\n                <button type=\"submit\"\r\n                        disabled={props.isSubmitting || !!props.errors.login || !!props.errors.password || !props.isValid}\r\n                >Send\r\n                </button>\r\n            </form>\r\n        )}\r\n    </Formik>\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    loginFailed: state.auth.loginFailed\r\n})\r\nexport default connect(mapStateToProps, {login})(Login)\r\n\r\n","import {authThunk} from \"./auth-reducer\";\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\ntype initialType = {\r\n    initialized: boolean\r\n}\r\ntype actionType = initialACType\r\n\r\nexport const appReducer = (state: initialType = initialState, action: actionType): initialType => {\r\n    switch (action.type) {\r\n        case 'app/SET_INITIALIZED': {\r\n            return {...state, initialized: true}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\ntype initialACType = ReturnType<typeof initialAC>\r\n\r\nconst initialAC = () => {\r\n    return {\r\n        type: 'app/SET_INITIALIZED',\r\n    } as const\r\n}\r\n\r\nexport const initializeApp = () => async (dispatch: any) => {\r\n    dispatch(authThunk())\r\n        .then(() => {\r\n            dispatch(initialAC())\r\n        })\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport {Navbar} from \"./components/Navbar/Navbar\";\r\nimport {Chat} from \"./components/Chat/Chat\";\r\nimport {BrowserRouter, Route} from 'react-router-dom';\r\nimport {News} from './components/News/News';\r\nimport {Music} from \"./components/Music/Music\";\r\nimport {Settings} from \"./components/Settings/Settings\";\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from 'redux';\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport {AppStateType} from \"./Redux/storeRedux\";\r\nimport {Preloader} from \"./components/Common/Preloader/Preloader\";\r\n\r\ntype appPropsType = {\r\n    initializeApp: () => void,\r\n    initialized: boolean,\r\n}\r\n\r\nclass App extends React.Component<appPropsType> {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <BrowserRouter>\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <Navbar/>\r\n                    <div className='app-wrapper-content'>\r\n                        <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                        <Route path='/profile/:userId' render={() => <ProfileContainer/>}/>\r\n                        <Route path='/friends' render={() => <UsersContainer/>}/>\r\n                        <Route path='/news' render={() => <News/>}/>\r\n                        <Route path='/music' render={() => <Music/>}/>\r\n                        <Route path='/settings' render={() => <Settings/>}/>\r\n                        <Route path='/login' render={() => <Login/>}/>\r\n                    </div>\r\n                    <Chat/>\r\n                </div>\r\n            </BrowserRouter>\r\n        );\r\n    }\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        initialized: state.app.initialized\r\n    }\r\n\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {initializeApp}))(App)\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {profilePageReducer} from \"./profilePage-reducer\";\r\nimport {messagesPageReducer} from \"./messagesPage-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\n\r\nlet reducer = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    messagesPage: messagesPageReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n\r\n})\r\nexport type AppStateType = ReturnType<typeof reducer>\r\n\r\nlet store = createStore(reducer, applyMiddleware(thunkMiddleware))\r\n\r\n//@ts-ignore\r\nwindow.store = store\r\n\r\nexport default store\r\n\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './Redux/storeRedux';\nimport {Provider} from \"react-redux\";\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3hne6\",\"dialogsItems\":\"Dialogs_dialogsItems__2YPT7\",\"dialog\":\"Dialogs_dialog__1UJhZ\",\"messages\":\"Dialogs_messages__2AfGP\",\"message\":\"Dialogs_message__1UDuk\",\"activeLink\":\"Dialogs_activeLink__1kfTw\",\"button\":\"Dialogs_button__2eAoD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avaD\":\"AvaD_avaD__1u5q5\",\"status\":\"AvaD_status__3PT63\",\"ava\":\"AvaD_ava__1wTd3\",\"d\":\"AvaD_d__3XTS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainInput\":\"Wall_mainInput__35EBH\",\"miniAva\":\"Wall_miniAva__b1Qgw\",\"input\":\"Wall_input__PadBT\",\"button\":\"Wall_button__7yniM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1G08e\",\"loginBlock\":\"Header_loginBlock__3ZOk_\"};"],"sourceRoot":""}