{"version":3,"sources":["components/Profile/Wall/MyPost/Post/Post.module.css","components/Navbar/Navbar.module.css","components/Navbar/Navbar.tsx","components/Chat/Chat.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","Redux/messagesPage-reducer.ts","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Messages/Message.tsx","components/Dialogs/DialogForm.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","API/api.ts","Redux/users-reducer.ts","components/Common/Paginator/Pagination.tsx","components/Users/Users.tsx","Files/img/user.png","Files/gif/preloader.svg","components/Common/Preloader/Preloader.tsx","Redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Profile/AvaD/ProfileStatus.tsx","components/Profile/AvaD/AvaD.tsx","Redux/profilePage-reducer.ts","components/Profile/Wall/MyPost/Post/Post.tsx","components/Profile/Wall/MyPost/MyPost.tsx","components/Profile/Wall/MessageForm.tsx","components/Profile/Wall/Wall.tsx","components/Profile/Wall/WallContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","Redux/auth-reducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","Redux/app-reducer.ts","App.tsx","reportWebVitals.ts","Redux/storeRedux.ts","index.tsx","components/Dialogs/Dialogs.module.css","components/Profile/AvaD/AvaD.module.css","components/Common/Paginator/Pagination.module.css","components/Profile/Wall/Wall.module.css","components/Header/Header.module.css"],"names":["module","exports","Navbar","className","classes","navbar","item","to","activeClassName","activeLink","Chat","News","Music","Settings","initialState","dialogs","id","name","messages","message","DialogItem","React","memo","props","d","dialog","Message","validationSchema","yup","shape","required","max","DialogForm","initialValues","validateOnBlur","onSubmit","values","setSubmitting","resetForm","setTimeout","sendMessage","handleSubmit","placeholder","getFieldProps","errors","touched","style","color","type","disabled","isSubmitting","Dialogs","dialogsItems","messagesPage","map","el","sendMessageClick","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","restProps","compose","instance","require","default","create","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","then","response","data","followAPI","followHandler","post","resultCode","unFollowHander","delete","profileAPI","userId","status","put","authAPI","email","password","rememberMe","users","totalUsersCount","isFetching","followingInProgress","follow","userID","unFollow","setCurrentPage","setIsFetching","setFollowingInProgress","followUnFollowFlow","dispatch","apiMethod","actionCreator","a","Pagination","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","styles","paginator","onClick","filter","p","cn","selectedPage","pageNumber","e","onPageChanged","Users","u","src","photoUrl","width","height","followed","unFollowThunkCreator","some","followThunkCreator","Preloader","preloader","getUsers","usersPage","getPagesSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","getUsersThunkCreator","this","items","totalCount","bind","ProfileStatus","editMode","setEitMode","title","setTitle","onDoubleClick","onBlur","updateStatus","value","autoFocus","onChange","currentTarget","AvaD","profile","avaD","ava","photos","large","fullName","lookingForAJob","contacts","facebook","lookingForAJobDescription","likesCounter","addPost","text","setStatus","Post","alt","MyPost","MessageForm","Wall","wall","mainInput","miniAva","profilePage","WallContainer","Profile","ProfileContainer","match","params","authUserId","toString","getProfileThunkCreator","getStatus","withRouter","Header","s","header","loginBlock","login","loginOut","loginFailed","setAuthUserData","authThunk","HeaderContainer","LoginForm","useSelector","validateOnChange","handleChange","defaultChecked","htmlFor","isValid","error","initialized","App","initializeApp","path","render","DialogsContainer","app","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducer","combineReducers","action","newPost","stateCopy","console","log","store","createStore","applyMiddleware","thunkMiddleware","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d58b61c6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__245wk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__1rTXG\",\"item\":\"Navbar_item__1e2tb\",\"activeLink\":\"Navbar_activeLink__2YwHc\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Navbar.module.css'\r\n\r\nexport const Navbar = () => {\r\n    return (\r\n        <nav className={classes.navbar}>\r\n            <div className={classes.item}><NavLink to ='/profile/20082' activeClassName={classes.activeLink}>Profile</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/dialogs' activeClassName={classes.activeLink}>Messages</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/friends' activeClassName={classes.activeLink}>Friends</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/News' activeClassName={classes.activeLink}>News</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/Music' activeClassName={classes.activeLink}>Music</NavLink></div>\r\n            <div className={classes.item}><NavLink to='/Settings' activeClassName={classes.activeLink}>Settings</NavLink></div>\r\n        </nav>\r\n    )\r\n}","import React from \"react\";\r\nimport './Chat.css'\r\n\r\nexport const Chat = () => {\r\n    return (\r\n        <div className='chat'>\r\n            <div>\r\n                Chat online\r\n            </div>\r\n            <div>\r\n                Friend list\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\nexport const News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\nexport const Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\nexport const Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}","import {messagesPageType} from \"./store\"\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Denis'},\r\n        {id: 2, name: 'Ylia'},\r\n        {id: 3, name: 'Dymich'}],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are u?'},\r\n        {id: 3, message: 'Where are u?'}\r\n    ],\r\n}\r\n\r\nexport const messagesPageReducer = (state: messagesPageType = initialState, action: SendMessageActionType) => {\r\n    switch (action.type) {\r\n        case 'messagePage/SEND_MESSAGE': {\r\n            let stateCopy = {...state}\r\n            stateCopy.messages = [...state.messages]\r\n            stateCopy.messages.push({id: 4, message: action.message})\r\n            return stateCopy;\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nexport type SendMessageActionType = ReturnType<typeof sendMessageClick>\r\n\r\nexport const sendMessageClick = (message: string) => {\r\n    return {type: 'messagePage/SEND_MESSAGE', message}\r\n}\r\n","import d from \"../Dialogs.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {dialogsType} from \"../../../Redux/store\";\r\n\r\nexport const DialogItem = React.memo((props: dialogsType) => {\r\n    return (\r\n        <div className={d.dialog}>\r\n            <NavLink to={'/dialogs/' + props.id}\r\n                     activeClassName={d.activeLink}>{props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n})","import d from \"../Dialogs.module.css\";\r\nimport React from \"react\";\r\nimport {messagesType} from \"../../../Redux/store\";\r\n\r\nexport const Message = React.memo((props: messagesType) => {\r\n    return (\r\n        <div>\r\n            <div className={d.message}>\r\n                {props.message}\r\n            </div>\r\n        </div>\r\n    )\r\n})","import {Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport * as yup from 'yup'\r\n\r\ntype propsType = {\r\n    sendMessage: (message: string) => void\r\n}\r\nconst validationSchema = yup.object().shape({\r\n    message: yup.string().required('Напишите что-нибудь').max(50, 'Слишком много!')\r\n})\r\n\r\nexport const DialogForm = (props: propsType) => (\r\n    <Formik\r\n        initialValues={{message: ''}}\r\n        validateOnBlur\r\n        validationSchema={validationSchema}\r\n        onSubmit={(values, {setSubmitting, resetForm}) => {\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                props.sendMessage(values.message)\r\n                resetForm()\r\n                setSubmitting(false)\r\n            }, 500)\r\n        }}\r\n    >\r\n        {props => (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n            <textarea\r\n                id=\"message\"\r\n                placeholder=\"Поделиться новостью\"\r\n                {...props.getFieldProps(\"message\")}\r\n            />\r\n                    {props.errors.message && props.touched.message ? (\r\n                        <div style={{color: 'red'}}>{props.errors.message}</div>\r\n                    ) : null}\r\n                </div>\r\n                <button type=\"submit\"\r\n                        disabled={props.isSubmitting || !!props.errors.message}\r\n                >Send\r\n                </button>\r\n            </form>\r\n        )}\r\n    </Formik>\r\n)","import React from 'react';\r\nimport d from './Dialogs.module.css'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {Message} from './Messages/Message';\r\nimport {messagesPageType} from \"../../Redux/store\";\r\nimport {DialogForm} from \"./DialogForm\";\r\n\r\nexport type DialogsPropsType = {\r\n    sendMessageClick: (message: string) => void\r\n    messagesPage: messagesPageType\r\n    isAuth: boolean\r\n}\r\nexport const Dialogs = React.memo((props: DialogsPropsType) => {\r\n    return (\r\n        <div className={d.dialogs}>\r\n            <div className={d.dialogsItems}>\r\n                {props.messagesPage.dialogs.map(el => <DialogItem name={el.name} id={el.id}/>)}\r\n            </div>\r\n            <div className={d.messages}>\r\n                <div>\r\n                    {props.messagesPage.messages.map(el => <Message message={el.message} id={el.id}/>)}\r\n                </div>\r\n                <DialogForm sendMessage={props.sendMessageClick}/>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n})","import React, {Component, ComponentType} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../Redux/storeRedux\";\r\n\r\ntype isAuthToPropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nconst mapStateToPropsForRedirect = (state: AppStateType): isAuthToPropsType => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n    function RedirectComponent(props: isAuthToPropsType) {\r\n        let {isAuth, ...restProps} = props\r\n        return (!isAuth) ? <Redirect to={'/login'}/> : <Component {...restProps as T} />\r\n    }\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","import {sendMessageClick} from '../../Redux/messagesPage-reducer';\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {messagesPageType} from \"../../Redux/store\";\r\nimport {AppStateType} from \"../../Redux/storeRedux\";\r\nimport React from \"react\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\ntype MapStateToPropsType = {\r\n    messagesPage: messagesPageType,\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        messagesPage: state.messagesPage,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {sendMessageClick}),\r\n    withAuthRedirect,\r\n)(Dialogs)\r\n","import {usersType} from \"../Redux/users-reducer\";\r\nimport {profileType} from \"../Redux/store\";\r\n\r\nconst {default: axios} = require('axios');\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '1f886700-a829-4416-bf51-a1d8fa58d064'\r\n    }\r\n})\r\n\r\ntype UsersResponseType = {\r\n    data: {\r\n        error: string | null,\r\n        items: usersType,\r\n        totalCount: number,\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then((response: UsersResponseType) => response.data)\r\n    },\r\n}\r\n\r\ntype followResponseType = {\r\n    data: {\r\n        data: {}\r\n        messages: string[],\r\n        resultCode: number,\r\n    }\r\n}\r\n\r\nexport const followAPI = {\r\n    followHandler(id: number) {\r\n        return instance.post(`follow/${id}`)\r\n            .then((response: followResponseType) => response.data.resultCode)\r\n    },\r\n    unFollowHander(id: number) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then((response: followResponseType) => response.data.resultCode)\r\n    }\r\n}\r\ntype responseType = {\r\n    data: profileType\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then((response: responseType) => response.data)\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status/`, {status})\r\n            .then((response: any) => response.data)\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    logOut() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\n","import {followAPI, usersAPI} from \"../API/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\ntype ActionsTypes = followACType | unFollowAC | usersAC | currentPageAC\r\n    | setTotalUsersCountAC | setIsFetching | followingInProgress\r\n\r\nexport type usersType = Array<{\r\n    id: number,\r\n    photoUrl: string,\r\n    followed: boolean,\r\n    name: string,\r\n    status: string,\r\n    location: { city: string, country: string },\r\n}>\r\n\r\ntype initialStateType = {\r\n    users: usersType\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    followingInProgress: (boolean | number)[]\r\n}\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n}\r\n\r\nexport const usersReducer = (state: initialStateType = initialState, action: ActionsTypes) => {\r\n    switch (action.type) {\r\n        case 'users/FOLLOW':\r\n            return {\r\n                ...state, users: state.users\r\n                    .map(u => u.id === action.userID ? {...u, followed: true} : u)\r\n            }\r\n        case 'users/UNFOLLOW': {\r\n            return {\r\n                ...state, users: state.users\r\n                    .map(u => u.id === action.userID ? {...u, followed: false} : u)\r\n            }\r\n        }\r\n        case 'users/SET_USERS': {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n        case 'users/SET_CURRENT_PAGE': {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case 'users/SET_TOTAL_USERS_COUNT': {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case 'users/TOGGLE_IS_FETCHING': {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case 'users/FOLLOWING_IN_PROGRESS': {\r\n            return {\r\n                ...state, followingInProgress: action.followingInProgress\r\n                    ? [...state.followingInProgress, action.userID]\r\n                    : state.followingInProgress.filter(id => id !== action.userID)\r\n            }\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nexport type followACType = ReturnType<typeof follow>\r\nexport type unFollowAC = ReturnType<typeof unFollow>\r\nexport type usersAC = ReturnType<typeof setUsers>\r\nexport type currentPageAC = ReturnType<typeof setCurrentPage>\r\nexport type setTotalUsersCountAC = ReturnType<typeof setTotalUsersCount>\r\nexport type setIsFetching = ReturnType<typeof setIsFetching>\r\nexport type followingInProgress = ReturnType<typeof setFollowingInProgress>\r\n\r\nexport const follow = (userID: number) => ({type: 'users/FOLLOW', userID} as const)\r\nexport const unFollow = (userID: number) => ({type: 'users/UNFOLLOW', userID} as const)\r\nexport const setUsers = (users: usersType) => ({type: 'users/SET_USERS', users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: 'users/SET_CURRENT_PAGE', currentPage} as const)\r\nexport const setTotalUsersCount = (totalCount: number) => ({type: 'users/SET_TOTAL_USERS_COUNT', totalCount} as const)\r\nexport const setIsFetching = (isFetching: boolean) => ({type: 'users/TOGGLE_IS_FETCHING', isFetching} as const)\r\nexport const setFollowingInProgress = (followingInProgress: boolean, userID: number) => ({\r\n    type: 'users/FOLLOWING_IN_PROGRESS',\r\n    followingInProgress,\r\n    userID\r\n} as const)\r\n\r\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number) => async (dispatch: Dispatch) => {\r\n    dispatch(setIsFetching(true))\r\n    let response = await usersAPI.getUsers(currentPage, pageSize)\r\n    dispatch(setCurrentPage(currentPage))\r\n    dispatch(setIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n    dispatch(setTotalUsersCount(response.totalCount))\r\n}\r\n\r\nconst followUnFollowFlow = async (dispatch: Dispatch, userID: number, apiMethod: any, actionCreator: any) => {\r\n    dispatch(setFollowingInProgress(true, userID))\r\n    let resultCode = await apiMethod(userID)\r\n    if (resultCode === 0) {\r\n        dispatch(actionCreator(userID))\r\n    }\r\n    dispatch(setFollowingInProgress(false, userID))\r\n}\r\n\r\nexport const followThunkCreator = (userID: number) => async (dispatch: Dispatch) => {\r\n    let apiMethod = followAPI.followHandler.bind(followAPI)\r\n    followUnFollowFlow(dispatch, userID, apiMethod, follow)\r\n}\r\n\r\nexport const unFollowThunkCreator = (userID: number) => async (dispatch: Dispatch) => {\r\n    let apiMethod = followAPI.unFollowHander.bind(followAPI)\r\n    followUnFollowFlow(dispatch, userID, apiMethod, unFollow)\r\n    }\r\n\r\n","import React from \"react\";\r\nimport {useState} from \"react\";\r\nimport styles from \"./Pagination.module.css\";\r\nimport cn from \"classnames\"\r\nimport {useEffect} from \"react\";\r\n\r\ntype propsType = {\r\n    onPageChanged: (currentPage: number) => void\r\n    currentPage: number,\r\n    totalUsersCount: number,\r\n    pageSize: number\r\n}\r\n\r\nexport const Pagination = (props: propsType) => {\r\n    let portionSize = 10\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n    useEffect(() => setPortionNumber(Math.ceil(props.currentPage / portionSize)), [props.currentPage]);\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>\r\n        }\r\n        {\r\n            pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span className={\r\n                        cn({\r\n                            [styles.selectedPage]: props.currentPage === p\r\n                        }, styles.pageNumber)\r\n                    } key={p}\r\n                                 onClick={(e) => props.onPageChanged(p)}>\r\n                        {p}\r\n                    </span>\r\n                })\r\n        }\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</button>}\r\n    </div>\r\n}","import React from \"react\";\r\n\r\nimport userPhoto from \"../../Files/img/user.png\";\r\nimport {usersType} from \"../../Redux/users-reducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Pagination} from \"../Common/Paginator/Pagination\";\r\n\r\ntype usersTypeProps = {\r\n    totalUsersCount: number,\r\n    pageSize: number\r\n    currentPage: number,\r\n    users: usersType,\r\n    onPageChanged: (currentPage: number) => void\r\n    setFollowingInProgress: (followingInProgress: boolean, userID: number) => void,\r\n    followingInProgress: (boolean | number)[],\r\n    followThunkCreator: (userID: number) => void,\r\n    unFollowThunkCreator: (userID: number) => void,\r\n}\r\n\r\nexport const Users = (props: usersTypeProps) => {\r\n    return (\r\n        <div style={{color: 'black'}}>\r\n            <Pagination currentPage={props.currentPage}\r\n                        onPageChanged={props.onPageChanged}\r\n                        totalUsersCount={props.totalUsersCount}\r\n                        pageSize={props.pageSize}\r\n            />\r\n            {\r\n                props.users.map(u => {\r\n                    const followHandler = () => {\r\n                        props.followThunkCreator(u.id)\r\n                    }\r\n                    const unFollowHandler = () => {\r\n                        props.unFollowThunkCreator(u.id)\r\n                    }\r\n                    return <div key={u.id}>\r\n                <span>\r\n                    <div>\r\n                       <NavLink to={'/profile/' + u.id}>\r\n                            <img src={u.photoUrl != null ? u.photoUrl : userPhoto} style={{width: 100, height: 100}}/>\r\n                       </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            u.followed\r\n                                ?\r\n                                <button onClick={unFollowHandler}\r\n                                        disabled={props.followingInProgress.some(id => id === u.id)}>Unfollow</button>\r\n                                : <button onClick={followHandler}\r\n                                          disabled={props.followingInProgress.some(id => id === u.id)}>Follow</button>\r\n                        }\r\n                    </div>\r\n                </span>\r\n                        <span>\r\n                    <span>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{'u.location.country'}</div>\r\n                        <div>{'u.location.city'}</div>\r\n                    </span>\r\n                </span>\r\n                    </div>\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/preloader.12c9e6de.svg\";","import preloader from \"../../../Files/gif/preloader.svg\";\r\nimport React from \"react\";\r\n\r\nexport const Preloader = () => {\r\n    return <img src={preloader} style={{width: 50, height: 50}}/>\r\n}  ","import {AppStateType} from \"./storeRedux\";\r\nimport {usersType} from \"./users-reducer\";\r\n\r\nexport const getUsers = (state: AppStateType): usersType => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPagesSize = (state: AppStateType): number => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType): number => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: AppStateType): number => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType): boolean => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType): (boolean | number)[] => {\r\n    return state.usersPage.followingInProgress\r\n}","import {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/storeRedux\";\r\nimport {\r\n    followThunkCreator,\r\n    getUsersThunkCreator,\r\n    setFollowingInProgress,\r\n    unFollowThunkCreator,\r\n    usersType\r\n} from \"../../Redux/users-reducer\";\r\nimport React from \"react\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../Common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPagesSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../Redux/users-selectors\";\r\n\r\ntype usersPropsType = {\r\n    users: usersType,\r\n    pageSize: number,\r\n    totalUsersCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    setFollowingInProgress: (followingInProgress: boolean, userID: number) => void,\r\n    followingInProgress: (boolean | number)[],\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void,\r\n    followThunkCreator: (userID: number) => void,\r\n    unFollowThunkCreator: (userID: number) => void,\r\n}\r\n\r\nclass UsersContainer extends React.Component<usersPropsType> {\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (currentPage: number) => {\r\n        this.props.getUsersThunkCreator(currentPage, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                users={this.props.users}\r\n                onPageChanged={this.onPageChanged}\r\n                setFollowingInProgress={this.props.setFollowingInProgress}\r\n                followingInProgress={this.props.followingInProgress}\r\n                followThunkCreator={this.props.followThunkCreator}\r\n                unFollowThunkCreator={this.props.unFollowThunkCreator}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPagesSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps,\r\n    {\r\n        setFollowingInProgress,\r\n        getUsersThunkCreator,\r\n        unFollowThunkCreator,\r\n        followThunkCreator\r\n    }\r\n    ),\r\n    withAuthRedirect\r\n)(UsersContainer)","import React, {useState} from \"react\";\r\nimport {ChangeEvent} from \"react\";\r\n\r\ntype propsType = {\r\n    status: string,\r\n    updateStatus: (status: string) => void,\r\n}\r\n\r\nexport const ProfileStatus = React.memo((props: propsType) => {\r\n    const [editMode, setEitMode] = useState<boolean>(false)\r\n    const [title, setTitle] = useState<string>(props.status)\r\n    const editModeHandlerOn = () => {\r\n        setEitMode(true)\r\n        setTitle(props.status)\r\n    }\r\n    const editModeHandlerOff = () => {\r\n        setEitMode(false)\r\n        if (title !== '') {\r\n            props.updateStatus(title)\r\n        }\r\n    }\r\n    const inputHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setTitle(e.currentTarget.value)\r\n    }\r\n    return (\r\n        <div>\r\n            {!editMode && <div>\r\n                <span onDoubleClick={editModeHandlerOn}>{props.status }</span>\r\n            </div>}\r\n            {editMode && <div>\r\n                <input onBlur={editModeHandlerOff}\r\n                       value={title}\r\n                       autoFocus={true}\r\n                       onChange={inputHandler}/>\r\n            </div>}\r\n        </div>\r\n    )\r\n})\r\n","import classes from \"./AvaD.module.css\";\r\nimport React from \"react\";\r\nimport {profileType} from \"../../../Redux/store\";\r\nimport {Preloader} from \"../../Common/Preloader/Preloader\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\n\r\ntype propsType = {\r\n    profile: profileType | null,\r\n    status: string,\r\n    updateStatus: (status: string) => void,\r\n}\r\n\r\nexport const AvaD = React.memo( (props: propsType) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div className={classes.avaD}>\r\n            <div className={classes.status}>\r\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n            <div className={classes.ava}>\r\n                <img src={props.profile.photos.large}/>\r\n            </div>\r\n\r\n            <div className={classes.d}>\r\n                <div>Fullname: {props.profile.fullName} </div>\r\n                <div>Looking for a job: {props.profile.lookingForAJob}</div>\r\n                <div>Contacts: {props.profile.contacts.facebook}</div>\r\n                <div>LookingForAJobDescription: {props.profile.lookingForAJobDescription} </div>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import {profilePageType, profileType} from \"./store\"\r\nimport {profileAPI} from \"../API/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst initialState = {\r\n    post: [\r\n        {id: 1, message: 'Hi', likesCounter: 12},\r\n        {id: 2, message: 'How are u?', likesCounter: 6},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n}\r\n\r\ntype ActionsType = AddPostActionType | SetUserProfileType | SetStatusType\r\n\r\nexport const profilePageReducer = (state: profilePageType = initialState, action: ActionsType) => {\r\n    switch (action.type) {\r\n        case 'profilePage/ADD_POST': {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.text,\r\n                likesCounter: 0,\r\n            }\r\n            let stateCopy = {...state}\r\n            stateCopy.post = [...state.post]\r\n            stateCopy.post.push(newPost)\r\n            return stateCopy\r\n        }\r\n        case 'profilePage/SET_USER_PROFILE': {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case 'profilePage/SET_STATUS': {\r\n            return {...state, status: action.status}\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nexport type AddPostActionType = ReturnType<typeof addPost>\r\n\r\nexport const addPost = (text: string) => {\r\n    return {\r\n        type: 'profilePage/ADD_POST',\r\n        text\r\n    } as const\r\n}\r\n\r\nexport type SetUserProfileType = ReturnType<typeof setUserProfile>\r\n\r\nexport const setUserProfile = (profile: profileType) => {\r\n    return {\r\n        type: 'profilePage/SET_USER_PROFILE',\r\n        profile\r\n    } as const\r\n}\r\n\r\nexport type SetStatusType = ReturnType<typeof setStatus>\r\n\r\nexport const setStatus = (status: string) => {\r\n    return {\r\n        type: 'profilePage/SET_STATUS',\r\n        status\r\n    } as const\r\n}\r\n\r\nexport const getProfileThunkCreator = (userID: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getProfile(userID)\r\n    dispatch(setUserProfile(response))\r\n}\r\n\r\nexport const getStatus = (userID: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.getStatus(userID)\r\n    dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport {postType} from \"../../../../../Redux/store\";\r\nimport p from './Post.module.css'\r\n\r\nexport const Post = React.memo( (props: postType) => {\r\n        return (\r\n        <div className={p.item}>\r\n            <img\r\n                src=\"https://pristor.ru/wp-content/uploads/2020/03/%D0%90%D0%B2%D0%B0-%D0%B2-%D0%B2%D0%BA-%D0%B2-%D0%BE%D1%82%D0%BF%D1%83%D1%81%D0%BA%D0%B5-%D0%BE%D1%87%D0%B5%D0%BD%D1%8C-%D0%BF%D1%80%D0%B8%D0%BA%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-2.jpg\"\r\n                alt=\"\"/>\r\n            {props.message}\r\n            <div>\r\n                <span>{props.likesCounter}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n})","import React from \"react\";\r\nimport {postType} from \"../../../../Redux/store\";\r\nimport {Post} from \"./Post/Post\";\r\n\r\ntype propsType = {\r\n    post: Array<postType>\r\n}\r\n\r\nexport const MyPost = React.memo((props: propsType) => {\r\n    return (\r\n        <div>\r\n            {props.post.map((el: postType) =>\r\n                <Post message={el.message}\r\n                      id={el.id}\r\n                      likesCounter={el.likesCounter}/>)}\r\n        </div>\r\n    )\r\n})","import {Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport * as yup from 'yup'\r\n\r\ntype propsType = {\r\n    addPost: (text: string) => void\r\n}\r\nconst validationSchema = yup.object().shape({\r\n    message: yup.string().required('Напишите что-нибудь').max(50, 'Слишком много!')\r\n})\r\nexport const MessageForm = (props: propsType) => (\r\n    <Formik\r\n        initialValues={{message: ''}}\r\n        validateOnBlur\r\n        validationSchema={validationSchema}\r\n        onSubmit={(values, {setSubmitting, resetForm}) => {\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                props.addPost(values.message)\r\n                resetForm()\r\n                setSubmitting(false)\r\n            }, 500)\r\n        }}\r\n    >\r\n        {props => (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n            <textarea\r\n                id=\"message\"\r\n                placeholder=\"Поделиться новостью\"\r\n                {...props.getFieldProps(\"message\")}\r\n            />\r\n                    {props.errors.message && props.touched.message ? (\r\n                        <div style={{color: 'red'}}>{props.errors.message}</div>\r\n                    ) : null}\r\n                </div>\r\n                <button type=\"submit\"\r\n                        disabled={props.isSubmitting || !!props.errors.message}\r\n                >Send\r\n                </button>\r\n            </form>\r\n        )}\r\n    </Formik>\r\n)\r\n","import React from 'react';\r\nimport classes from './Wall.module.css'\r\nimport {MyPost} from \"./MyPost/MyPost\";\r\nimport {profilePageType} from \"../../../Redux/store\";\r\nimport {MessageForm} from \"./MessageForm\";\r\n\r\ntype WallPropsType = {\r\n    profilePage: profilePageType\r\n    addPost: (text: string) => void\r\n}\r\n\r\nexport const Wall = React.memo((props: WallPropsType) => {\r\n    return (\r\n        <div className={classes.wall}>\r\n            <div className={classes.mainInput}>\r\n                <div className={classes.miniAva}>\r\n                    <img\r\n                        src=\"https://pristor.ru/wp-content/uploads/2020/03/%D0%90%D0%B2%D0%B0-%D0%B2-%D0%B2%D0%BA-%D0%B2-%D0%BE%D1%82%D0%BF%D1%83%D1%81%D0%BA%D0%B5-%D0%BE%D1%87%D0%B5%D0%BD%D1%8C-%D0%BF%D1%80%D0%B8%D0%BA%D0%BE%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-2.jpg\"\r\n                        alt=\"\"/>\r\n                </div>\r\n                <MessageForm addPost={props.addPost}/>\r\n            </div>\r\n            <MyPost post={props.profilePage.post}/>\r\n        </div>\r\n    )\r\n})","import React from 'react';\r\nimport {profilePageType} from \"../../../Redux/store\";\r\nimport { addPost} from '../../../Redux/profilePage-reducer';\r\nimport {Wall} from \"./Wall\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../Redux/storeRedux\";\r\n\r\ntype MapStateToPropsType = {\r\n    profilePage: profilePageType\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\n\r\nexport const WallContainer = connect(mapStateToProps, {addPost})(Wall)","import React from 'react';\r\nimport {AvaD} from \"./AvaD/AvaD\";\r\nimport {WallContainer} from \"./Wall/WallContainer\";\r\nimport {profileType} from \"../../Redux/store\";\r\n\r\ntype propsType = {\r\n    profile: profileType | null,\r\n    status: string,\r\n    updateStatus: (status: string) => void,\r\n}\r\n\r\nexport const Profile = (props: propsType) => {\r\n    return (\r\n        <div>\r\n            <AvaD profile={props.profile}\r\n                  status={props.status}\r\n                  updateStatus={props.updateStatus}\r\n            />\r\n            <WallContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport {Profile} from \"./Profile\";\r\nimport {postType, profileType} from \"../../Redux/store\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addPost,\r\n    getProfileThunkCreator,\r\n    getStatus,\r\n    updateStatus\r\n} from \"../../Redux/profilePage-reducer\";\r\nimport {AppStateType} from '../../Redux/storeRedux';\r\nimport {RouteComponentProps, withRouter} from 'react-router';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\n\r\ntype PathParamsType = {\r\n    userId?: string\r\n}\r\ntype ProfilePropsType = RouteComponentProps<PathParamsType> & {\r\n    post?: Array<postType>,\r\n    newPostText?: string,\r\n    addPost: () => void,\r\n    profile: profileType | null,\r\n    match: {\r\n        params: {\r\n            userId: string\r\n        }\r\n    },\r\n    getProfileThunkCreator: any,\r\n    setStatus: (status: string) => void,\r\n    getStatus: (userID: string) => void,\r\n    updateStatus: (status: string) => void,\r\n    status: string,\r\n    authUserId: number | null,\r\n    isAuth: boolean,\r\n}\r\n\r\nclass ProfileContainer extends React.Component<ProfilePropsType> {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (this.props.authUserId) {\r\n            if (!userId) {\r\n                userId = this.props.authUserId.toString()\r\n            }\r\n        }\r\n        this.props.getProfileThunkCreator(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\ntype profileTypeForMap = {\r\n    profile: profileType | null,\r\n    status: string | null,\r\n    authUserId: number | null,\r\n    isAuth: boolean,\r\n}\r\nconst mapStateToProps = (state: AppStateType): profileTypeForMap => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authUserId: state.auth.id,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps,\r\n        {\r\n            addPost,\r\n            getProfileThunkCreator,\r\n            getStatus,\r\n            updateStatus,\r\n        }\r\n    ),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer)\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean,\r\n    login: string | null,\r\n    loginOut: () => void,\r\n}\r\n\r\nexport const Header = (props: HeaderPropsType) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img\r\n                src='https://i.ibb.co/QXkdTv9/IT-INCUBATOR.png'\r\n                alt=''/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div> {props.login} - <button onClick={props.loginOut}>Logout</button></div>\r\n                    : <NavLink to={'/login'}> Login </NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\n","import {authAPI} from \"../API/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nconst initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    loginFailed: null,\r\n}\r\ntype stateType = {\r\n    id: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean,\r\n    loginFailed: string | null,\r\n}\r\ntype ActionsType = setUserDataAC | setLoginFailedType\r\n\r\nexport const authReducer = (state: stateType = initialState, action: ActionsType) => {\r\n    switch (action.type) {\r\n        case 'auth/SET_USER_DATA': {\r\n            console.log(action.data)\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: action.data.isAuth,\r\n                login: action.data.login\r\n            }\r\n        }\r\n        case 'auth/SET_LOGIN_FAILED': {\r\n            return {\r\n                ...state,\r\n                loginFailed: action.error\r\n            }\r\n        }\r\n    }\r\n    return state\r\n}\r\n\r\nexport type setUserDataAC = ReturnType<typeof setAuthUserData>\r\n\r\nexport const setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {type: 'auth/SET_USER_DATA', data: {id, email, login, isAuth}} as const\r\n}\r\n\r\nexport type setLoginFailedType = ReturnType<typeof setLoginFailed>\r\nexport const setLoginFailed = (error: string) => {\r\n    return {type: 'auth/SET_LOGIN_FAILED', error} as const\r\n}\r\n\r\nexport const authThunk = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.getAuth()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: any) => {\r\n    let response = await authAPI.login(email, password, rememberMe)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(authThunk())\r\n    } else {\r\n        dispatch(setLoginFailed(response.data.messages[0]))\r\n    }\r\n}\r\n\r\nexport const loginOut = () => async (dispatch: Dispatch) => {\r\n    let response = await authAPI.logOut()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n    }\r\n}","import React from 'react';\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginOut} from \"../../Redux/auth-reducer\";\r\nimport {AppStateType} from \"../../Redux/storeRedux\";\r\nimport {compose} from \"redux\";\r\n\r\ntype HeaderPropsType = {\r\n    isAuth: boolean,\r\n    login: string | null,\r\n    loginOut: () => void,\r\n}\r\n\r\nclass HeaderContainer extends React.Component<HeaderPropsType> {\r\n    render() {\r\n        return <Header  {...this.props}  />\r\n    }\r\n}\r\n\r\ntype mapStateTopPropsType = {\r\n    isAuth: boolean,\r\n    login: string | null,\r\n}\r\nconst mapStateToprops = (state: AppStateType): mapStateTopPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToprops, {loginOut}))(HeaderContainer)\r\n\r\n","import React from 'react';\r\nimport {Formik} from \"formik\";\r\nimport * as yup from 'yup'\r\nimport {connect, useSelector} from 'react-redux';\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport {AppStateType} from \"../../Redux/storeRedux\";\r\n\r\n\r\ntype LoginPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean)=>void\r\n    isAuth?: boolean\r\n    loginFailed: string | null\r\n}\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile/20082'}/>\r\n    }\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginForm login={props.login} loginFailed={props.loginFailed}/>\r\n    </div>\r\n}\r\n\r\nconst validationSchema = yup.object().shape({\r\n    login: yup.string().required('Введите логин').max(20, 'Слишком много!'),\r\n    password: yup.string().required('Введите пароль').max(20, 'Слишком много!')\r\n})\r\n\r\nexport const LoginForm = (props: LoginPropsType) => {\r\n    const loginFailed = useSelector<AppStateType, string | null>(state => state.auth.loginFailed)\r\n    return <Formik\r\n        initialValues={{\r\n            login: 'free@samuraijs.com',\r\n            password: 'free',\r\n            rememberMe: false,\r\n\r\n        }}\r\n        validateOnBlur\r\n        validateOnChange\r\n        validationSchema={validationSchema}\r\n        onSubmit={(values, {setSubmitting, resetForm}) => {\r\n            setSubmitting(true)\r\n            setTimeout(() => {\r\n                props.login(values.login, values.password, values.rememberMe)\r\n                resetForm()\r\n                setSubmitting(false)\r\n            }, 500)\r\n        }}\r\n    >\r\n        {props => (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <input\r\n                        id=\"login\"\r\n                        placeholder=\"Login\"\r\n                        {...props.getFieldProps(\"login\")}\r\n                    />\r\n                    {props.errors.login && props.touched.login ? (\r\n                        <div style={{color: 'red'}}>{props.errors.login}</div>\r\n                    ) : null}\r\n                </div>\r\n                <div>\r\n                    <input\r\n                        id=\"password\"\r\n                        placeholder=\"Password\"\r\n                        type={'password'}\r\n                        {...props.getFieldProps(\"password\")}\r\n                    />\r\n                    {props.errors.password && props.touched.password ? (\r\n                        <div style={{color: 'red'}}>{props.errors.password}</div>\r\n                    ) : null}\r\n                </div>\r\n                <div>\r\n                    <input type=\"checkbox\"\r\n                           id=\"rememberMe\"\r\n                           onChange={props.handleChange}\r\n                           defaultChecked={props.values.rememberMe}\r\n                    />\r\n                    <label htmlFor=\"rememberMe\">\r\n                        Remember me\r\n                    </label>\r\n\r\n                </div>\r\n                {!!loginFailed ? (\r\n                    <div style={{color: 'red'}}>{loginFailed}</div>\r\n                ) : null}\r\n                <button type=\"submit\"\r\n                        disabled={props.isSubmitting || !!props.errors.login || !!props.errors.password || !props.isValid}\r\n                >Send\r\n                </button>\r\n            </form>\r\n        )}\r\n    </Formik>\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    loginFailed: state.auth.loginFailed\r\n})\r\nexport default connect(mapStateToProps, {login})(Login)\r\n\r\n","import {authThunk} from \"./auth-reducer\";\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\ntype initialType = {\r\n    initialized: boolean\r\n}\r\ntype actionType = initialACType\r\n\r\nexport const appReducer = (state: initialType = initialState, action: actionType): initialType => {\r\n    switch (action.type) {\r\n        case 'app/SET_INITIALIZED': {\r\n            return {...state, initialized: true}\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\ntype initialACType = ReturnType<typeof initialAC>\r\n\r\nconst initialAC = () => {\r\n    return {\r\n        type: 'app/SET_INITIALIZED',\r\n    } as const\r\n}\r\n\r\nexport const initializeApp = () => async (dispatch: any) => {\r\n    dispatch(authThunk())\r\n        .then(() => {\r\n            dispatch(initialAC())\r\n        })\r\n}","import React from 'react';\r\nimport './App.css';\r\nimport {Navbar} from \"./components/Navbar/Navbar\";\r\nimport {Chat} from \"./components/Chat/Chat\";\r\nimport {BrowserRouter, Route} from 'react-router-dom';\r\nimport {News} from './components/News/News';\r\nimport {Music} from \"./components/Music/Music\";\r\nimport {Settings} from \"./components/Settings/Settings\";\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from 'redux';\r\nimport {initializeApp} from \"./Redux/app-reducer\";\r\nimport {AppStateType} from \"./Redux/storeRedux\";\r\nimport {Preloader} from \"./components/Common/Preloader/Preloader\";\r\n\r\ntype appPropsType = {\r\n    initializeApp: () => void,\r\n    initialized: boolean,\r\n}\r\n\r\nclass App extends React.Component<appPropsType> {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <BrowserRouter>\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <Navbar/>\r\n                    <div className='app-wrapper-content'>\r\n                        <Route path='/dialogs' render={() => <DialogsContainer/>}/>\r\n                        <Route path='/profile/:userId' render={() => <ProfileContainer/>}/>\r\n                        <Route path='/friends' render={() => <UsersContainer/>}/>\r\n                        <Route path='/news' render={() => <News/>}/>\r\n                        <Route path='/music' render={() => <Music/>}/>\r\n                        <Route path='/settings' render={() => <Settings/>}/>\r\n                        <Route path='/login' render={() => <Login/>}/>\r\n                    </div>\r\n                    <Chat/>\r\n                </div>\r\n            </BrowserRouter>\r\n        );\r\n    }\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n    initialized: boolean\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\r\n    return {\r\n        initialized: state.app.initialized\r\n    }\r\n\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {initializeApp}))(App)\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {profilePageReducer} from \"./profilePage-reducer\";\r\nimport {messagesPageReducer} from \"./messagesPage-reducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\n\r\nlet reducer = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    messagesPage: messagesPageReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n\r\n})\r\nexport type AppStateType = ReturnType<typeof reducer>\r\n\r\nlet store = createStore(reducer, applyMiddleware(thunkMiddleware))\r\n\r\n//@ts-ignore\r\nwindow.store = store\r\n\r\nexport default store\r\n\r\n\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './Redux/storeRedux';\nimport {Provider} from \"react-redux\";\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3hne6\",\"dialogsItems\":\"Dialogs_dialogsItems__2YPT7\",\"dialog\":\"Dialogs_dialog__1UJhZ\",\"messages\":\"Dialogs_messages__2AfGP\",\"message\":\"Dialogs_message__1UDuk\",\"activeLink\":\"Dialogs_activeLink__1kfTw\",\"button\":\"Dialogs_button__2eAoD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avaD\":\"AvaD_avaD__1u5q5\",\"status\":\"AvaD_status__3PT63\",\"ava\":\"AvaD_ava__1wTd3\",\"d\":\"AvaD_d__3XTS2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activePage\":\"Pagination_activePage__2LNYa\",\"selectedPage\":\"Pagination_selectedPage__1LzZB\",\"pageNumber\":\"Pagination_pageNumber__3HK63\",\"paginator\":\"Pagination_paginator__3ZWiU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainInput\":\"Wall_mainInput__35EBH\",\"miniAva\":\"Wall_miniAva__b1Qgw\",\"input\":\"Wall_input__PadBT\",\"button\":\"Wall_button__7yniM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1G08e\",\"loginBlock\":\"Header_loginBlock__3ZOk_\"};"],"sourceRoot":""}